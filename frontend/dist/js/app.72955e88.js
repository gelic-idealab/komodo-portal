(function(e){function t(t){for(var a,o,n=t[0],l=t[1],c=t[2],d=0,m=[];d<n.length;d++)o=n[d],r[o]&&m.push(r[o][0]),r[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(m.length)m.shift()();return i.push.apply(i,c||[]),s()}function s(){for(var e,t=0;t<i.length;t++){for(var s=i[t],a=!0,n=1;n<s.length;n++){var l=s[n];0!==r[l]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=s[0]))}return e}var a={},r={app:0},i=[];function o(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=a,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(s,a,function(t){return e[t]}.bind(null,a));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=t,n=n.slice();for(var c=0;c<n.length;c++)t(n[c]);var u=l;i.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"0051":function(e,t,s){},"034f":function(e,t,s){"use strict";var a=s("27fb"),r=s.n(a);r.a},"052e":function(e,t,s){"use strict";var a=s("5576"),r=s.n(a);r.a},"0893":function(e,t,s){"use strict";var a=s("def1"),r=s.n(a);r.a},"0c0b":function(e,t,s){"use strict";var a=s("d643"),r=s.n(a);r.a},"0c1a":function(e,t,s){e.exports=s.p+"img/rusa-libraryh3lp.1c2b4782.png"},"0c5a":function(e,t,s){e.exports=s.p+"img/komodo-logo-white.e16f1b96.svg"},"0efd":function(e,t,s){"use strict";var a=s("d9f4"),r=s.n(a);r.a},1:function(e,t){},2:function(e,t){},2053:function(e,t,s){"use strict";var a=s("e3cd"),r=s.n(a);r.a},2150:function(e,t,s){"use strict";var a=s("b611"),r=s.n(a);r.a},2195:function(e,t,s){},"24cc":function(e,t,s){e.exports=s.p+"img/rusa-chatstaff.c4114fb9.png"},"27fb":function(e,t,s){},"29f0":function(e,t,s){"use strict";var a=s("a7f4"),r=s.n(a);r.a},3:function(e,t){},"3b75":function(e,t,s){"use strict";var a=s("4d8a"),r=s.n(a);r.a},"3e69":function(e,t,s){"use strict";var a=s("ac22"),r=s.n(a);r.a},4:function(e,t){},4678:function(e,t,s){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=i(e);return s(t)}function i(e){var t=a[e];if(!(t+1)){var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}return t}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id="4678"},"49e5":function(e,t,s){"use strict";var a=s("0051"),r=s.n(a);r.a},"4d8a":function(e,t,s){},5:function(e,t){},5576:function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);var a=s("2b0e"),r=s("8c4f"),i=s("2f62"),o=s("0e44");a["default"].use(i["a"]);const n=()=>({user:null,courses:null}),l=new i["a"].Store({plugins:[Object(o["a"])({storage:window.sessionStorage})],state:n(),getters:{user:e=>{return e.user},courses:e=>{return e.courses},isLoggedIn:e=>{return!!e.user}},mutations:{reset(e){Object.assign(e,n())},setUser(e,t){e.user=t},setCourses(e,t){e.courses=t}}});var c=l,u=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",[s("v-content",{staticClass:"grey lighten-4"},[s("v-container",{staticClass:"full-height pa-0",attrs:{fluid:""}},[s("router-view")],1)],1)],1)},d=[],m={},h=m,p=(s("034f"),s("2877")),v=Object(p["a"])(h,u,d,!1,null,null,null),f=v.exports,b=s("8019"),g=s.n(b),_=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"main-layout-container"},[s("SideBar"),s("div",{staticClass:"main-content full-height"},[s("transition",{attrs:{name:"fade",mode:"out-in"}},[s("router-view")],1)],1)],1)},C=[],w=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-navigation-drawer",{staticClass:"side-bar",attrs:{width:"230",permanent:"",fixed:"","expand-on-hover":"",dark:""}},[s("v-list",[s("v-list-item",[s("v-list-item-content",[s("v-list-item-title",{staticClass:"title"},[e._v("\n          "+e._s(e.user.firstName+" "+e.user.lastName)+"\n        "),s("v-btn",{attrs:{icon:""},on:{click:e.goToAccountPage}},[s("v-icon",[e._v("mdi-account-edit-outline")])],1)],1),s("v-list-item-subtitle",[e._v(e._s(e.user.email))])],1)],1)],1),s("v-divider"),s("v-list",{attrs:{nav:"",dense:""}},[s("SideBarMenuItem",{attrs:{title:"Dashboard","icon-name":"mdi-view-dashboard",to:"/dashboard"}}),s("SideBarMenuItem",{attrs:{title:"Courses","icon-name":"mdi-school","append-icon-name":e.showCourses?"mdi-menu-down":"mdi-menu-left"},nativeOn:{click:function(t){return e.switchShowCourses(t)}}}),e._l(e.courseList,function(e){return s("SideBarMenuItem",{key:e.courseId,attrs:{title:e.courseNo,"icon-name":"mdi-circle-small",to:"/courses/"+e.courseId}})}),s("SideBarMenuItem",{attrs:{title:"Assets","icon-name":"mdi-cube-outline",to:"/assets"}}),"instructor"==e.user.role||"admin"==e.user.role?s("SideBarMenuItem",{attrs:{title:"Metrics","icon-name":"mdi-poll",to:"/metrics"}}):e._e(),"admin"==e.user.role?s("SideBarMenuItem",{attrs:{title:"Admin","icon-name":"fa-edit",to:"/admin"}}):e._e()],2),s("v-list",{staticClass:"side-bar-bottom-wrapper",attrs:{nav:"",dense:""}},[s("SideBarMenuItem",{attrs:{title:"Logout","icon-name":"mdi-logout-variant",to:"/logout"}})],1)],1)},y=[],x=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("router-link",{attrs:{to:e.to}},[s("v-list-item",{staticClass:"mb-1",class:e.$route.path===e.to?" active":"",attrs:{link:""}},[s("v-list-item-icon",[s("v-icon",[e._v(e._s(e.iconName))])],1),s("v-list-item-title",[e._v(e._s(e.title))]),e.appendIconName?s("v-list-item-icon",[s("v-icon",[e._v(e._s(e.appendIconName))])],1):e._e()],1)],1)},k=[],S={name:"SideBarMenuItem",props:{title:{type:String,required:!0},iconName:{type:String,required:!0},appendIconName:{type:String,required:!1},to:{type:String,default:""}}},I=S,L=Object(p["a"])(I,x,k,!1,null,null,null),N=L.exports,T={name:"SideBar",components:{SideBarMenuItem:N},data(){return{user:this.$store.getters.user,logoPath:s("0c5a"),courseList:this.$store.getters.courses.sort((e,t)=>e.courseNo>t.courseNo?1:-1),showCourses:!1}},methods:{switchShowCourses(){this.showCourses=!this.showCourses},goToAccountPage(){this.$router.push({name:"Account"})}}},j=T,A=(s("d05d"),Object(p["a"])(j,w,y,!1,null,null,null)),E=A.exports,$={name:"MainLayout",components:{SideBar:E},data(){return{}},mounted(){},methods:{}},D=$,R=(s("ab25"),Object(p["a"])(D,_,C,!1,null,null,null)),P=R.exports,U=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-row",{staticClass:"all-container",staticStyle:{height:"100vh"},attrs:{align:"center",justify:"center"}},[s("v-card",{staticClass:"radius-3",attrs:{elevation:"15",width:"70%",height:"70%"}},[s("v-container",{staticClass:"pa-0 full-height radius-3"},[s("v-row",{staticClass:"full-height",attrs:{"no-gutters":""}},[s("v-col",{staticClass:"pa-6 card-content-wrapper"},[s("v-card-title",{staticClass:"headline"},[e._v("\r\n              Login\r\n            ")]),s("v-card-text",{staticClass:"text-container"},[s("v-text-field",{attrs:{autofocus:!0,label:"Email"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login(t)}},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),s("v-text-field",{attrs:{label:"Password",type:"password","append-icon":"mdi-eye-off"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login(t)}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),s("v-alert",{directives:[{name:"show",rawName:"v-show",value:e.showDialog&&e.message,expression:"showDialog && message"}],attrs:{type:e.messageType,dense:"",text:""},domProps:{textContent:e._s(e.message)}})],1),s("v-card-actions",{staticClass:"justify-center"},[s("v-btn",{staticClass:"mx-6 full-width",attrs:{color:"primary",large:""},on:{click:e.login}},[e._v("Login")])],1),s("p",{staticClass:"register-text"},[e._v("\r\n              Don't have an account?\r\n              "),s("span",{staticClass:"primary--text font-weight-medium",staticStyle:{cursor:"pointer"},attrs:{click:e.register}},[e._v("\r\n                Register\r\n              ")]),e._v("\r\n              now.\r\n            ")])],1),s("v-col",{staticClass:"landing-img-container"},[s("div",{staticClass:"landing-img"},[s("div",{staticClass:"landing-logo"},[s("p",{staticClass:"title1 display-2 white--text"},[e._v("\r\n                  Welcome to Komodo\r\n                ")]),s("p",{staticClass:"title2 headline white--text font-italic"},[e._v("\r\n                  A new way of learning with VR\r\n                ")]),s("p",{staticClass:"white--text"},[e._v("\r\n                  Developed at the University of Illinois Urbana-Champaign\r\n                ")]),s("v-btn",{staticClass:"ma-1",attrs:{small:"",color:"primary",href:"https://komodo-dev.library.illinois.edu/about"}},[e._v("\r\n                  Learn More â†’\r\n                  ")])],1)])])],1)],1)],1)],1)},O=[],V=s("df2f"),q=s.n(V),B=s("bc3a"),M=s.n(B);const z=M.a.create();z.defaults.baseURL=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_API_BASE_URL,z.defaults.timeout=2500,z.defaults.withCredentials=!0,z.defaults.headers={"Content-Type":"application/json"};const F=e=>{if("object"!==typeof e||null===e)return e;if(e instanceof Array)return e.map(e=>F(e));const t={};for(const s in e)if(e.hasOwnProperty(s)){const a=s.split("_");let r=a[0];for(let e=1;e<a.length;e++)r+=a[e][0].toUpperCase()+a[e].slice(1);t[r]=F(e[s])}return t};z.defaults.transformResponse=[e=>{return F(JSON.parse(e))}];var H=z;const W=e=>{return H.post("/users/login",e)},K=e=>{return H.post("/users/password",e)},Y=()=>{return H.get("/users/logout")},G=()=>{return H.get("/users/initial")},J=()=>{return H.get("/users")},X=e=>{return H.post("/users",e)},Z=e=>{return H.put("/users/edit",e)},Q=e=>{const{userId:t}=e;return H.get(`/users/detail/${t}`)},ee=e=>{return H.put("/users/edit/multiple",e)},te=e=>{return H.get(`/users/${e}`)},se=e=>{return H.delete("/users/delete",{data:e})},ae=e=>{return H.get(`/courses/users/${e}`)},re=e=>{return H.get(`/courses/instructors/${e}`)},ie=e=>{const{courseId:t}=e;return H.get(`/courses/${t}`)},oe=e=>{return H.get("/labs",{params:e})},ne=e=>{const{labId:t}=e;return H.get(`/labs/${t}`)},le=e=>{return H.post("/labs",e)},ce=e=>{return H.put("/labs/edit",e)},ue=e=>{return H.delete("/labs/delete",{data:e})},de=()=>{return H.get("/courses")},me=e=>{return H.post("/courses",e)},he=e=>{return H.put("/courses/edit",e)},pe=e=>{return H.put("/courses/edit/multiple",e)},ve=()=>{return H.get("/courses/semester")},fe=e=>{return H.delete("/courses/delete",{data:e})},be=e=>{return H.get("/labs/captures",{params:e})};var ge={data:()=>({password:"",email:"",showDialog:!1,message:"",messageType:"info"}),mounted(){this.$store.getters.user&&this.$router.push({name:"Landing"})},created(){},methods:{showInfo(e,t){this.message=e,this.messageType=t,this.showDialog=!0},login(){this.email.length&&this.password.length?W({email:this.email,password:q()(this.password).toString()}).then(e=>{if(200===e.status){const{userId:t,email:s,firstName:a,lastName:r,roleName:i}=e.data.user;return this.showInfo("Login Succeeded! Redirecting ...","success"),this.$store.commit("setUser",{userId:t,email:s,firstName:a,lastName:r,role:i}),ae(t)}}).then(e=>{this.$store.commit("setCourses",e.data),setTimeout(()=>{this.$router.push({path:"/dashboard"})},1e3)}).catch(e=>{this.showInfo(e.response.data.message||"Login Failed!","error")}):this.showInfo("Invalid Input!","warning")},register(){}}},_e=ge,Ce=(s("825d"),Object(p["a"])(_e,U,O,!1,null,null,null)),we=Ce.exports,ye=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContainerCard",[s("v-row",[s("v-col",{staticClass:"text-center headline",attrs:{cols:12}},[e._v("\r\n        "+e._s(e.message)+"\r\n      ")]),s("v-col",[s("v-progress-linear",{attrs:{color:"primary",indeterminate:"",rounded:""}})],1)],1)],1)},xe=[],ke=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"full-height d-flex align-center justify-center"},[s("div",{staticClass:"container-card__container py-10 px-12 radius-2 background-white"},[e._t("default")],2)])},Se=[],Ie={name:"ContainerCard",props:{}},Le=Ie,Ne=(s("6c35"),Object(p["a"])(Le,ke,Se,!1,null,null,null)),Te=Ne.exports,je={name:"Logout",components:{ContainerCard:Te},data(){return{message:"Logging out ..."}},mounted(){this.logout()},methods:{logout(){Y(),this.$store.commit("reset"),this.message="Successfully logged you out! Redirecting ...",setTimeout(()=>{this.$router.push({name:"Login"})},2e3)}}},Ae=je,Ee=Object(p["a"])(Ae,ye,xe,!1,null,null,null),$e=Ee.exports,De=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-row",[s("v-col",[s("p",{staticClass:"display-1"},[e._v("\n        Welcome, "+e._s(e.$store.getters.user.firstName)+"\n      ")])])],1),s("v-row",[s("v-col",[s("SectionCard",{attrs:{title:"Courses"}},[s("v-row",{attrs:{dense:""}},e._l(e.courseList,function(e){return s("v-col",{key:e.courseId,attrs:{cols:4}},[s("LandingCourseCard",{attrs:{course:e}})],1)}),1)],1)],1)],1),s("v-row",[s("v-col",[s("SectionCard",{attrs:{title:"Assets"},scopedSlots:e._u([{key:"actions",fn:function(){return[s("router-link",{attrs:{to:{name:"Assets"}}},[s("v-btn",{staticClass:"mr-1",attrs:{text:"",small:"",color:"info"}},[s("v-icon",{attrs:{small:"",left:"",color:"info"}},[e._v("mdi-earth")]),e._v("\n              Browse\n            ")],1)],1),s("router-link",{attrs:{to:{name:"Asset Create"}}},[s("v-btn",{attrs:{text:"",small:"",color:"success"}},[s("v-icon",{attrs:{small:"",left:""}},[e._v("mdi-plus")]),e._v("\n              Upload\n            ")],1)],1)]},proxy:!0}])},[s("v-container",{attrs:{fluid:""}},[s("v-data-table",{attrs:{headers:e.assetTableHeaders,items:e.assetList,"sort-by":["updateAt"],"sort-desc":[!0],"item-key":"assetId","no-data-text":"No asset added"},on:{"click:row":e.onAssetClick},scopedSlots:e._u([{key:"item.updateAt",fn:function(t){var a=t.item;return[s("span",[e._v(e._s(e.moment(a.updateAt).format("L LT")))])]}}])})],1)],1)],1)],1)],1)},Re=[],Pe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"shadow-section pa-4 pt-0 radius-2 background-white"},[s("header",{staticClass:"section-card__header"},[e.title?s("span",{staticClass:"section-card__title"},[e._v("\n      "+e._s(e.title)+"\n    ")]):e._e(),s("div",{staticClass:"section-card__actions"},[e._t("actions")],2)]),e._t("default")],2)},Ue=[],Oe={name:"SectionCard",props:{title:{type:String,required:!1}}},Ve=Oe,qe=(s("3e69"),Object(p["a"])(Ve,Pe,Ue,!1,null,null,null)),Be=qe.exports,Me=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("router-link",{staticClass:"landing-course-card-container pa-4 radius-2 full-height",attrs:{to:{name:"Course Detail",params:{courseId:e.course.courseId}}}},[s("div",{staticClass:"subtitle-1 text--primary pb-2"},[e._v("\n    "+e._s(e.course.courseNo+": "+e.course.courseName)+"\n  ")]),s("div",{staticClass:"text--secondary"},[e._v(e._s(e.course.department))]),s("p",{staticClass:"text--secondary"},[e._v(e._s("Instructor: "+e.course.instructorName))]),"admin"==e.user.role||"instructor"==e.user.role?s("div",[s("router-link",{attrs:{to:{name:"Lab Create",params:{courseId:e.course.courseId}}}},[s("v-btn",{attrs:{small:"",outlined:"",color:"success"}},[s("v-icon",{attrs:{left:"",small:""}},[e._v("mdi-plus")]),e._v("\n        New Lab\n      ")],1)],1)],1):e._e()])},ze=[],Fe={name:"LandingCourseCard",data(){return{user:this.$store.getters.user}},props:{course:{type:Object,default:()=>{}}}},He=Fe,We=(s("5786"),Object(p["a"])(He,Me,ze,!1,null,null,null)),Ke=We.exports;const Ye=e=>{return H.post("/assets/presign",e)},Ge=(e,t,s)=>{return M()({baseURL:e,url:t,data:s,method:"post",headers:{"Content-Type":"multipart/form-data"}})},Je=e=>{return H.post("/assets",{...e,creatorId:c.getters.user.userId})},Xe=()=>{return H.get("/assets",{params:{creatorId:c.getters.user.userId}})},Ze=e=>{const{assetId:t}=e;return H.get(`/assets/${t}`)},Qe=e=>{return H.delete("/assets/delete",{data:e})};var et={name:"Landing",components:{SectionCard:Be,LandingCourseCard:Ke},mounted(){this.courseList=this.$store.getters.courses,Xe().then(e=>{this.assetList=e.data})},data(){return{user:this.$store.getters.user,courseList:[],assetList:[],assetTableHeaders:[{text:"Name",value:"assetName"},{text:"Description",value:"description",sortable:!1},{text:"Updated",value:"updateAt"}]}},methods:{onAssetClick({assetId:e}){this.$router.push({name:"Asset Detail",params:{assetId:e}})}}},tt=et,st=(s("57b1"),Object(p["a"])(tt,De,Re,!1,null,null,null)),at=st.exports,rt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-row",{staticClass:"course-basic-info"},[s("v-col",{staticClass:"col-auto"},[s("div",{staticClass:"course-avatar-placeholder radius-2 display-1 white--text font-weight-bold"},[e._v("\r\n          "+e._s(e.course.courseNo.replace(/[0-9]/g,""))+"\r\n        ")])]),s("v-col",[s("v-chip",{staticClass:"mr-1",attrs:{color:"primary",outlined:"",label:""}},[e._v(e._s(e.course.semester))]),s("v-chip",{staticClass:"mr-1",attrs:{color:"secondary",outlined:"",label:""}},[e._v(e._s(e.course.department))]),s("p",{staticClass:"display-1"},[e._v(e._s(e.course.courseNo+": "+e.course.courseName))]),s("p",{staticClass:"body-1"},[s("v-icon",[e._v("mdi-account-circle")]),e._v("\r\n          Instructor: "+e._s(e.course.instructorName)+"\r\n        ")],1)],1),"admin"==e.user.role||"instructor"==e.user.role?s("v-col",{staticClass:"col-auto"},[s("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[s("v-btn",e._g({attrs:{color:"success",depressed:""}},a),[e._v("\r\n              New Session\r\n            ")])]}}],null,!1,3593992374)},[s("v-list",{attrs:{dense:""}},[s("v-list-item-group",{attrs:{color:"success"}},[s("router-link",{attrs:{to:{name:"Lab Create",params:{courseId:e.course.courseId}}}},[s("v-list-item",[s("v-list-item-icon",[s("v-icon",[e._v("mdi-cast-education")])],1),s("v-list-item-title",[e._v("Lab")])],1)],1),s("v-list-item",{attrs:{disabled:""}},[s("v-list-item-icon",[s("v-icon",[e._v("mdi-teach")])],1),s("v-list-item-title",[e._v("Capture")])],1)],1)],1)],1)],1):e._e()],1),s("v-row",[s("v-col",{staticClass:"course-details"},[s("div",{staticClass:"px-4 pb-4 radius-2 shadow-section background-white"},[s("v-tabs",{staticClass:"mb-1",model:{value:e.currentTab,callback:function(t){e.currentTab=t},expression:"currentTab"}},[s("v-tab",[e._v("\r\n              Description\r\n            ")]),s("v-tab",[e._v("\r\n              Labs\r\n              "),s("v-chip",{staticClass:"ml-2 px-1",attrs:{outlined:"",label:"","x-small":""}},[e._v("\r\n                "+e._s(e.labList.length)+"\r\n              ")])],1),s("v-tab",[e._v("\r\n              Captures\r\n              "),s("v-chip",{staticClass:"ml-2 px-1",attrs:{outlined:"",label:"","x-small":""}},[e._v("\r\n                "+e._s(e.captures.length)+"\r\n              ")])],1)],1),s("v-tabs-items",{staticClass:"full-width",model:{value:e.currentTab,callback:function(t){e.currentTab=t},expression:"currentTab"}},[s("CourseDetailDescription",{attrs:{description:e.course.description}}),s("CourseDetailLab",{directives:[{name:"show",rawName:"v-show",value:1==e.currentTab,expression:"currentTab == 1"}],attrs:{"course-id":e.course.courseId,"lab-list":e.labList}}),s("CaptureLabList",{directives:[{name:"show",rawName:"v-show",value:2==e.currentTab,expression:"currentTab == 2"}],attrs:{"course-id":e.course.courseId,captures:e.captures}})],1)],1)]),s("v-col",{staticClass:"student-details"},[s("SectionCard",{attrs:{title:"Roster"}},[s("v-list",{attrs:{dense:""}},[s("v-list-item-group",e._l(e.course.userList,function(t){return s("v-list-item",{key:t.email},[s("v-list-item-content",[s("v-list-item-title",[e._v(" "+e._s(t.firstName+" "+t.lastName)+" ")]),s("v-list-item-subtitle",[e._v(e._s(t.email))])],1)],1)}),1)],1)],1)],1)],1)],1)},it=[],ot=s("c1df"),nt=s.n(ot),lt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-tab-item",{staticClass:"body-1 font-weight-light"},[e._v("\r\n    "+e._s(e.description)+"\r\n  ")])},ct=[],ut={name:"CourseDetailDescription",props:{description:{type:String,default:"No description."}}},dt=ut,mt=Object(p["a"])(dt,lt,ct,!1,null,null,null),ht=mt.exports,pt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-tab-item",[s("v-data-table",{attrs:{headers:e.tableHeaders,items:e.labList,"items-per-page":10,"sort-by":["date"],"sort-desc":[!0],"show-select":""},on:{"click:row":e.onRowClick},scopedSlots:e._u([{key:"top",fn:function(){return["admin"==e.user.role||"instructor"==e.user.role?s("div",{staticClass:"clear-fix"},[s("router-link",{attrs:{to:{name:"Lab Create",params:{courseId:e.courseId}}}},[s("v-btn",{staticClass:"float-right",attrs:{color:"success",depressed:"",small:""}},[s("v-icon",{attrs:{left:"",small:""}},[e._v("mdi-plus")]),e._v("\r\n              New Lab\r\n            ")],1)],1)],1):e._e()]},proxy:!0},{key:"item.action",fn:function(t){var a=t.item;return[s("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v("mdi-play")]),s("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v("mdi-camera")]),"admin"==e.user.role||"instructor"==e.user.role?s("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v("edit")]):e._e(),"admin"==e.user.role||"instructor"==e.user.role?s("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return t.stopPropagation(),e.deleteLabClick(a)}}},[e._v("delete")]):e._e()]}}])})],1)},vt=[],ft={name:"CourseDetailLab",props:{courseId:{type:[String,Number],required:!0},labList:{type:Array,required:!0}},data(){return{user:this.$store.getters.user,tableHeaders:[{text:"Name",value:"labName"},{text:"Date",value:"date"},{text:"Time",value:"time"},{text:"Duration",value:"duration",sortable:!1},{text:"Actions",value:"action",sortable:!1}],updatedList:[]}},methods:{deleteLabClick(e){let t=confirm("Are you sure you want to delete this lab?");t&&ue({labId:e.id}).then(()=>{this.status="success",setTimeout(()=>{this.$router.go()},500)})},onRowClick(e){this.$router.push({name:"Lab Detail",params:{courseId:this.courseId,labId:e.id}})}}},bt=ft,gt=(s("fec2"),Object(p["a"])(bt,pt,vt,!1,null,null,null)),_t=gt.exports,Ct=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-tab-item",[s("v-data-table",{attrs:{headers:e.tableHeaders,items:e.captures,"item-key":"captureId","items-per-page":10,"sort-by":["date"],"sort-desc":[!0],"show-select":""},on:{"click:row":e.onRowClick},scopedSlots:e._u([{key:"item.action",fn:function(t){var a=t.item;return[s("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v("mdi-play")]),s("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v("mdi-camera")]),"admin"==e.user.role||"instructor"==e.user.role?s("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v("edit")]):e._e(),"admin"==e.user.role||"instructor"==e.user.role?s("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteLabClick(a)}}},[e._v("delete")]):e._e()]}}])})],1)},wt=[],yt={name:"CaptureLabList",props:{courseId:{type:[String,Number],required:!0},captures:{type:Array,required:!0}},data(){return{user:this.$store.getters.user,tableHeaders:[{text:"ID",value:"captureId"},{text:"Name",value:"labName"},{text:"Date",value:"date"},{text:"Time",value:"time"},{text:"Duration",value:"duration",sortable:!1},{text:"Actions",value:"action",sortable:!1}],updatedList:[]}},methods:{onRowClick(e){this.$router.push({name:"Lab Detail",params:{courseId:this.courseId,labId:e.id,captureId:e.captureId}})}}},xt=yt,kt=(s("3b75"),Object(p["a"])(xt,Ct,wt,!1,null,null,null)),St=kt.exports,It={name:"CourseDetail",components:{SectionCard:Be,CourseDetailDescription:ht,CourseDetailLab:_t,CaptureLabList:St},data(){return{user:this.$store.getters.user,course:{courseId:0,courseNo:"",courseName:"",department:"",instructorName:"",semester:"",description:""},currentTab:1,labList:[],captures:[]}},mounted:function(){this.course.courseId=this.$route.params.courseId,this.getData()},watch:{"$route.path":"getData"},methods:{getData(){Promise.all([ie({courseId:this.course.courseId}),oe({courseId:this.course.courseId})]).then(e=>{this.course={courseId:this.course.courseId,...e[0].data},this.labList=e[1].data.map(e=>{const t=nt()(e.startTime),s=nt()(e.endTime);return{id:e.sessionId,labName:e.sessionName,date:t.format("L"),time:`${t.format("LT")} - ${s.format("LT")}`,duration:nt.a.duration(t.diff(s)).humanize()}}),this.captures=e[2].data.map(e=>{const t=nt()(e.start),s=nt()(e.end);return{id:e.sessionId,captureId:e.captureId,labName:e.sessionName,date:t.format("L"),time:`${t.format("LT")}`,duration:nt.a.duration(t.diff(s)).humanize()}})})}}},Lt=It,Nt=(s("052e"),Object(p["a"])(Lt,rt,it,!1,null,null,null)),Tt=Nt.exports,jt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContainerCard",[s("v-form",{ref:"uploader",staticClass:"full-width",attrs:{action:"/test",method:"post",enctype:"multipart/form-data"}},[s("p",{staticClass:"headline"},[e._v("Upload New Asset")]),s("v-file-input",{attrs:{name:"file",color:"primary",label:"Select File","prepend-icon":"mdi-paperclip","show-size":1e3,accept:".obj,.fbx,.gltf,.glb,.dae",rules:e.fileRules,counter:"",chips:"",outlined:""},scopedSlots:e._u([{key:"selection",fn:function(t){var a=t.text;return[s("v-chip",{attrs:{color:"primary",label:"",small:""}},[e._v("\r\n            "+e._s(a)+"\r\n          ")])]}}]),model:{value:e.file,callback:function(t){e.file=t},expression:"file"}}),s("v-text-field",{attrs:{label:"Asset Name",required:"",rules:e.asset.nameRules,counter:20,clearable:"",outlined:""},model:{value:e.asset.assetName,callback:function(t){e.$set(e.asset,"assetName",t)},expression:"asset.assetName"}}),s("v-textarea",{attrs:{label:"Description",hint:"We recommend adding some description to your asset, but you can leave it blank :)",rows:"3",rules:e.asset.descriptionRules,counter:255,"auto-grow":"",outlined:""},model:{value:e.asset.description,callback:function(t){e.$set(e.asset,"description",t)},expression:"asset.description"}}),s("v-row",[s("v-switch",{attrs:{label:e.asset.isPublic?"Public":"Private"},model:{value:e.asset.isPublic,callback:function(t){e.$set(e.asset,"isPublic",t)},expression:"asset.isPublic"}}),s("v-switch",{staticClass:"ml-3",attrs:{label:e.asset.isWholeObject?"Treat as one object":"Treat as multiple objects"},model:{value:e.asset.isWholeObject,callback:function(t){e.$set(e.asset,"isWholeObject",t)},expression:"asset.isWholeObject"}}),s("v-col",{attrs:{cols:"4"}},[s("v-text-field",{staticClass:"ml-3",attrs:{"prepend-icon":"mdi-resize",rules:e.asset.scaleRules,type:"number",label:"Scale",outlined:"",dense:""},model:{value:e.asset.scale,callback:function(t){e.$set(e.asset,"scale",e._n(t))},expression:"asset.scale"}})],1)],1),s("v-row",{attrs:{justify:"center"}},[s("v-btn",{staticClass:"mr-3",attrs:{color:"accent"},on:{click:e.goBack}},[e._v("\r\n          Cancel\r\n          "),s("v-icon",{attrs:{right:""}},[e._v("mdi-close-circle-outline")])],1),"processing"===e.status?s("v-btn",{attrs:{disabled:""}},[e._v("\r\n          Uploading\r\n          "),s("v-progress-circular",{staticClass:"ml-2",attrs:{indeterminate:"",size:"14",width:"2"}})],1):"success"===e.status?s("v-btn",{attrs:{color:"success"}},[e._v("\r\n          Uploaded\r\n          "),s("v-icon",{attrs:{right:""}},[e._v("mdi-checkbox-marked-circle-outline")])],1):s("v-btn",{attrs:{color:"primary"},on:{click:e.onSubmit}},[e._v("\r\n          Upload\r\n          "),s("v-icon",{attrs:{right:""}},[e._v("mdi-cloud-upload-outline")])],1)],1)],1)],1)},At=[],Et=s("ec26"),$t={name:"AssetCreate",components:{ContainerCard:Te},data(){return{asset:{assetName:"",nameRules:[e=>!!e||"Asset name is required",e=>e.length<=20||"Title must be less than 20 characters"],description:"",descriptionRules:[e=>e.length<=255||"Description must be less than 255 characters"],isPublic:!1,isWholeObject:!0,path:"",scale:1,scaleRules:[e=>e>0||"Scale must be greater than zero"]},file:null,fileRules:[e=>!!e||"File is required",e=>!e||e.size<52428800||"File must be less than 50 MB"],status:"pending"}},methods:{validate(){return this.$refs.uploader.validate()},goBack(){this.$router.go(-1)},onSubmit(){if(!this.validate())return;this.status="processing";const e=Object(Et["a"])(),t="model."+this.file.name.split(".")[this.file.name.split(".").length-1];Ye({uuid:e}).then(s=>{const a=new FormData,{url:r,fields:i}=s.data;return this.asset.path=`${r}/${e}/${t}`,a.append("key",i.key),Object.keys(i).forEach(e=>{a.set(e,i[e])}),a.append("file",this.file,t),Ge(r,"/",a)}).then(()=>{return Je({uuid:e,...this.asset})}).then(e=>{this.status="success",setTimeout(()=>{this.$router.push({name:"Asset Detail",params:{assetId:e.data.assetId}})},1e3)})}}},Dt=$t,Rt=Object(p["a"])(Dt,jt,At,!1,null,null,null),Pt=Rt.exports,Ut=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-row",{staticClass:"lab-basic-info mb-4 flex-column no-gutters"},[s("p",{staticClass:"display-1 text-capitalize"},[e._v(e._s(e.asset.assetName))])]),s("v-row",[s("v-col",{attrs:{cols:8}},[s("SectionCard",{attrs:{title:"Preview"},scopedSlots:e._u([{key:"actions",fn:function(){return[s("v-btn",{attrs:{text:"",small:"",color:"grey"}},[s("v-icon",{attrs:{left:"","x-small":""}},[e._v("mdi-pencil")]),e._v("Edit\n          ")],1)]},proxy:!0}])},["GLB"===e.asset.fileType||"GLTF"===e.asset.fileType?s("model-viewer",{staticClass:"model-viewer",attrs:{src:e.asset.path,alt:e.asset.assetName,"auto-rotate":"","camera-controls":"",exposure:.5}}):s("p",{staticClass:"mb-0"},[e._v("\n          (Sorry, the current file type is not supported for previewing.)\n        ")])],1)],1),s("v-col",{attrs:{cols:4}},[s("SectionCard",{staticClass:"mb-6",attrs:{title:"Description"},scopedSlots:e._u([{key:"actions",fn:function(){return[s("v-btn",{attrs:{text:"",small:"",color:"grey"}},[s("v-icon",{attrs:{left:"","x-small":""}},[e._v("mdi-pencil")]),e._v("Edit\n          ")],1)]},proxy:!0}])},[e._v("\n        "+e._s(e.asset.description)+"\n      ")]),s("SectionCard",{attrs:{title:"Information"},scopedSlots:e._u([{key:"actions",fn:function(){return["admin"===e.role||"instructor"===e.role?s("v-btn",{attrs:{text:"",small:"",color:"red"},on:{click:e.deleteAssetClick}},[s("v-icon",{attrs:{left:"","x-small":""}},[e._v("mdi-delete")]),e._v("Delete\n          ")],1):e._e()]},proxy:!0}])},[s("v-row",{attrs:{dense:""}},[s("v-col",{attrs:{cols:4}},[s("v-chip",{attrs:{outlined:""}},[e._v("File Type")])],1),s("v-col",{attrs:{cols:8,"align-self":"center"}},[e._v("\n            "+e._s(e.asset.fileType)+"\n          ")])],1),s("v-row",{attrs:{dense:""}},[s("v-col",{attrs:{cols:4}},[s("v-chip",{attrs:{outlined:""}},[e._v("Creator")])],1),s("v-col",{attrs:{cols:8,"align-self":"center"}},[e._v("\n            "+e._s(e.asset.creatorName)+"\n          ")])],1),s("v-row",{attrs:{dense:""}},[s("v-col",{attrs:{cols:4}},[s("v-chip",{attrs:{outlined:""}},[e._v("Create Time")])],1),s("v-col",{attrs:{cols:8,"align-self":"center"}},[e._v("\n            "+e._s(e.asset.createAt)+"\n          ")])],1),s("v-row",{attrs:{dense:""}},[s("v-col",{attrs:{cols:4}},[s("v-chip",{attrs:{outlined:""}},[e._v("Update Time")])],1),s("v-col",{attrs:{cols:8,"align-self":"center"}},[e._v("\n            "+e._s(e.asset.updateAt)+"\n          ")])],1),s("v-row",{attrs:{dense:""}},[s("v-col",{attrs:{cols:4}},[s("v-chip",{attrs:{outlined:""}},[e._v("Whole Object")])],1),s("v-col",{attrs:{cols:8,"align-self":"center"}},[e._v("\n            "+e._s(e.asset.isWholeObject?"Yes":"No")+"\n          ")])],1),s("v-row",{attrs:{dense:""}},[s("v-col",{attrs:{cols:4}},[s("v-chip",{attrs:{outlined:""}},[e._v("Default Scale")])],1),s("v-col",{attrs:{cols:8,"align-self":"center"}},[e._v("\n            "+e._s(Number(e.asset.scale).toFixed(2)||1)+"\n          ")])],1)],1)],1)],1)],1)},Ot=[],Vt={name:"AssetDetail",components:{SectionCard:Be},data(){return{userId:0,role:"",assetId:0,asset:{assetName:"",description:"",creatorId:"",creatorName:"",isPublic:"",isWholeObject:"",createAt:"",updateAt:"",path:"",scale:"",fileType:""}}},mounted(){const{assetId:e}=this.$route.params,{userId:t,role:s}=this.$store.getters.user;this.userId=t,this.role=s,Ze({assetId:e}).then(t=>{const s=t.data;this.assetId=e,this.asset={...s,createAt:nt()(s.createAt).format("L LT"),updateAt:nt()(s.updateAt).format("L LT"),fileType:s.path.split(".")[s.path.split(".").length-1].toUpperCase()}}).catch(e=>{console.log(e)})},methods:{deleteAssetClick(){let e=confirm("Are you sure you want to delete this asset?");e&&Qe({assetId:this.assetId}).then(()=>{this.status="success",setTimeout(()=>{this.$router.push({name:"Assets"})},1e3)})}}},qt=Vt,Bt=(s("0c0b"),Object(p["a"])(qt,Ut,Ot,!1,null,null,null)),Mt=Bt.exports,zt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContainerCard",[s("v-form",{ref:"form",staticClass:"full-width",attrs:{"lazy-validation":""},model:{value:e.isValid,callback:function(t){e.isValid=t},expression:"isValid"}},[s("p",{staticClass:"headline"},[e._v("Schedule New Lab")]),s("v-text-field",{attrs:{label:"Course",required:"",disabled:""},model:{value:e.course,callback:function(t){e.course=t},expression:"course"}}),s("v-text-field",{attrs:{label:"Title",rules:e.titleRules,counter:100,autofocus:"",required:""},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}}),s("v-textarea",{attrs:{label:"Description",hint:"We recommend adding some description to your lab session, but you can leave it blank :)",rows:"3",rules:e.descriptionRules,counter:255,"auto-grow":""},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}}),s("v-row",[s("v-col",{attrs:{cols:"4"}},[s("v-menu",{ref:"date",attrs:{"close-on-content-click":!1,"return-value":e.date,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(t){e.date=t},"update:return-value":function(t){e.date=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[s("v-text-field",e._g({attrs:{label:"Date",rules:e.dateRules,"prepend-icon":"event"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},a))]}}]),model:{value:e.showDatePicker,callback:function(t){e.showDatePicker=t},expression:"showDatePicker"}},[s("v-date-picker",{attrs:{min:e.moment().format("YYYY-MM-DD"),"no-title":"",scrollable:""},on:{input:function(t){return e.$refs.date.save(e.date)}},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)],1),s("v-col",{attrs:{cols:"4"}},[s("v-menu",{ref:"startTime",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.startTime,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(t){e.startTime=t},"update:return-value":function(t){e.startTime=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[s("v-text-field",e._g({attrs:{label:"Start Time",rules:e.startTimeRules,"prepend-icon":"access_time",readonly:""},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}},a))]}}]),model:{value:e.showStartTimePicker,callback:function(t){e.showStartTimePicker=t},expression:"showStartTimePicker"}},[e.showStartTimePicker?s("v-time-picker",{attrs:{format:"24hr",max:e.endTime,"full-width":""},on:{"click:minute":function(t){return e.$refs.startTime.save(e.startTime)}},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}}):e._e()],1)],1),s("v-col",{attrs:{cols:"4"}},[s("v-menu",{ref:"endTime",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.endTime,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(t){e.endTime=t},"update:return-value":function(t){e.endTime=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[s("v-text-field",e._g({attrs:{label:"End Time",rules:e.endTimeRules,"prepend-icon":"access_time",readonly:""},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}},a))]}}]),model:{value:e.showEndTimePicker,callback:function(t){e.showEndTimePicker=t},expression:"showEndTimePicker"}},[e.showEndTimePicker?s("v-time-picker",{attrs:{format:"24hr",min:e.startTime,"full-width":""},on:{"click:minute":function(t){return e.$refs.endTime.save(e.endTime)}},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}}):e._e()],1)],1)],1),s("LabCreateAsset",{attrs:{"asset-list":e.assetList},on:{onSelectChange:e.onAssetSelectChange,uploadNewAsset:e.uploadNewAsset}}),s("v-row",[s("v-col",[s("v-expansion-panels",{attrs:{accordion:!0,flat:!0}},[s("v-expansion-panel",[s("v-expansion-panel-header",[e._v("Advanced Settings")]),s("v-expansion-panel-content",[s("SectionCard",{attrs:{title:"Settings"},scopedSlots:e._u([{key:"actions",fn:function(){return[s("v-icon",{attrs:{small:""}},[e._v("mdi-hammer-wrench")])]},proxy:!0}])},[s("v-row",[s("v-col",[s("v-select",{attrs:{items:e.buildScopes,dense:""},on:{change:e.getBuilds},model:{value:e.buildScope,callback:function(t){e.buildScope=t},expression:"buildScope"}}),s("v-select",{attrs:{value:e.build,items:e.builds,hint:"Set the Komodo version for this lab","persistent-hint":"",dense:""},model:{value:e.build,callback:function(t){e.build=t},expression:"build"}})],1)],1)],1)],1)],1)],1)],1)],1),s("v-row",{attrs:{justify:"center"}},[s("v-btn",{staticClass:"mr-3",attrs:{color:"accent"},on:{click:e.goBack}},[e._v("\r\n          Cancel\r\n          "),s("v-icon",{attrs:{right:""}},[e._v("mdi-close-circle-outline")])],1),"processing"===e.status?s("v-btn",{attrs:{disabled:""}},[e._v("\r\n          Scheduling\r\n          "),s("v-progress-circular",{staticClass:"ml-2",attrs:{indeterminate:"",size:"14",width:"2"}})],1):"success"===e.status?s("v-btn",{attrs:{color:"success"}},[e._v("\r\n          Scheduled\r\n          "),s("v-icon",{attrs:{right:""}},[e._v("mdi-checkbox-marked-circle-outline")])],1):s("v-btn",{attrs:{color:"primary"},on:{click:e.createLab}},[e._v("\r\n          Schedule\r\n          "),s("v-icon",{attrs:{right:""}},[e._v("mdi-checkbox-marked-circle-outline")])],1)],1)],1)],1)},Ft=[],Ht=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-data-table",{attrs:{headers:e.headers,items:e.assetList,"items-per-page":5,"item-key":"assetId","sort-by":"updatedOn","sort-desc":!0,"show-select":""},on:{input:e.onChange},scopedSlots:e._u([{key:"top",fn:function(){return[s("div",{staticClass:"d-flex justify-space-between"},[s("span",{staticClass:"subtitle-1"},[e._v("Assets")]),s("v-btn",{attrs:{color:"success",outlined:"",small:""},on:{click:e.uploadNew}},[e._v("Upload New Asset")])],1)]},proxy:!0},{key:"no-data",fn:function(){return[e._v("\r\n      No asset available now.\r\n    ")]},proxy:!0}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})},Wt=[],Kt={name:"LabCreateAsset",props:{assetList:{type:Array,default:()=>[]}},data(){return{headers:[{text:"Name",value:"assetName"},{text:"Description",value:"description"},{text:"Updated On",value:"updatedOn"}],selected:[]}},methods:{onChange(){this.$emit("onSelectChange",this.selected)},uploadNew(){this.$emit("uploadNewAsset")}}},Yt=Kt,Gt=Object(p["a"])(Yt,Ht,Wt,!1,null,null,null),Jt=Gt.exports,Xt={name:"LabCreate",components:{ContainerCard:Te,LabCreateAsset:Jt},data(){return{courseId:0,course:"",title:"",titleRules:[e=>!!e||"Title is required",e=>e.length<=100||"Title must be less than 100 characters"],description:"",descriptionRules:[e=>e.length<=255||"Description must be less than 255 characters"],date:null,dateRules:[e=>!!e||"Date is required"],startTime:null,startTimeRules:[e=>!!e||"Start time is required"],endTime:null,endTimeRules:[e=>!!e||"End time is required"],assetList:[],selectedAssetList:[],showDatePicker:!1,showStartTimePicker:!1,showEndTimePicker:!1,status:"pending",isValid:!0,build:"stable",builds:[""],buildScope:"base",buildScopes:[]}},mounted:function(){M.a.get(`${Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_VR_CLIENT_BASE_URL}`).then(e=>{e.data.forEach(e=>{this.buildScopes.push(e.name)}),this.getBuilds()}),this.courseId=this.$route.params.courseId,ie({courseId:this.courseId}).then(e=>{const t=e.data;return this.course=`${t.courseNo} - ${t.courseName}`,this.title=`${this.course} - Lab`,Xe()}).then(e=>{const t=e.data;this.assetList=t.map(e=>{return{...e,updatedOn:nt()(e.updateAt||e.createAt).format("L")}})}).then(()=>{if(localStorage.getItem("newLab"))try{const t=JSON.parse(localStorage.getItem("newLab"));this.title=t.title,this.description=t.description,this.date=t.date,this.startTime=t.startTime,this.endTime=t.endTime}catch(e){localStorage.removeItem("newLab")}})},methods:{getBuilds(){this.builds=[],M.a.get(`${Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_VR_CLIENT_BASE_URL}/${this.buildScope}/`).then(e=>{e.data.forEach(e=>{this.builds.push(e.name)})})},goBack(){this.$router.go(-1)},onAssetSelectChange(e){this.selectedAssetList=e},uploadNewAsset(){const e={title:this.title,description:this.description,date:this.date,startTime:this.startTime,endTime:this.endTime,build:this.buildScope+"/"+this.build};localStorage.setItem("newLab",JSON.stringify(e)),this.$router.push({name:"Asset Create"})},validate(){return this.$refs.form.validate()},createLab(){this.validate()&&(this.status="processing",le({courseId:this.courseId,title:this.title,description:this.description,startTime:nt()(this.date+" "+this.startTime).utc().format(),endTime:nt()(this.date+" "+this.endTime).utc().format(),assetList:this.selectedAssetList.map(e=>e.assetId),build:this.buildScope+"/"+this.build}).then(e=>{this.status="success",localStorage.removeItem("newLab"),setTimeout(()=>{this.$router.push({name:"Lab Detail",params:{courseId:this.courseId,labId:e.data.labId}})},1e3)}))}}},Zt=Xt,Qt=Object(p["a"])(Zt,zt,Ft,!1,null,null,null),es=Qt.exports,ts=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContainerCard",[s("v-form",{ref:"form",staticClass:"full-width",attrs:{"lazy-validation":""},model:{value:e.isValid,callback:function(t){e.isValid=t},expression:"isValid"}},[s("p",{staticClass:"headline"},[e._v("Edit Lab Details")]),s("v-text-field",{attrs:{label:"Course",required:"",disabled:""},model:{value:e.course,callback:function(t){e.course=t},expression:"course"}}),s("v-text-field",{attrs:{label:"Title",rules:e.titleRules,counter:100,autofocus:"",required:""},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}}),s("v-textarea",{attrs:{label:"Description",hint:"We recommend adding some description to your lab session, but you can leave it blank :)",rows:"3",rules:e.descriptionRules,counter:255,"auto-grow":""},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}}),s("v-row",[s("v-col",{attrs:{cols:"4"}},[s("v-menu",{ref:"date",attrs:{"close-on-content-click":!1,"return-value":e.date,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(t){e.date=t},"update:return-value":function(t){e.date=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[s("v-text-field",e._g({attrs:{label:"Date",rules:e.dateRules,"prepend-icon":"event"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},a))]}}]),model:{value:e.showDatePicker,callback:function(t){e.showDatePicker=t},expression:"showDatePicker"}},[s("v-date-picker",{attrs:{min:e.moment().format("YYYY-MM-DD"),"no-title":"",scrollable:""},on:{input:function(t){return e.$refs.date.save(e.date)}},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)],1),s("v-col",{attrs:{cols:"4"}},[s("v-menu",{ref:"startTime",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.startTime,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(t){e.startTime=t},"update:return-value":function(t){e.startTime=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[s("v-text-field",e._g({attrs:{label:"Start Time",rules:e.startTimeRules,"prepend-icon":"access_time",readonly:""},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}},a))]}}]),model:{value:e.showStartTimePicker,callback:function(t){e.showStartTimePicker=t},expression:"showStartTimePicker"}},[e.showStartTimePicker?s("v-time-picker",{attrs:{format:"24hr","full-width":""},on:{"click:minute":function(t){return e.$refs.startTime.save(e.startTime)}},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}}):e._e()],1)],1),s("v-col",{attrs:{cols:"4"}},[s("v-menu",{ref:"endTime",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.endTime,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(t){e.endTime=t},"update:return-value":function(t){e.endTime=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[s("v-text-field",e._g({attrs:{label:"End Time",rules:e.endTimeRules,"prepend-icon":"access_time",readonly:""},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}},a))]}}]),model:{value:e.showEndTimePicker,callback:function(t){e.showEndTimePicker=t},expression:"showEndTimePicker"}},[e.showEndTimePicker?s("v-time-picker",{attrs:{format:"24hr","full-width":""},on:{"click:minute":function(t){return e.$refs.endTime.save(e.endTime)}},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}}):e._e()],1)],1)],1),s("LabEditAsset",{attrs:{assetList:e.assetList,selectedAssetList:e.selectedAssetList},on:{onSelectChange:e.onAssetSelectChange,uploadNewAsset:e.uploadNewAsset}}),s("v-row",[s("v-col",[s("v-expansion-panels",{attrs:{accordion:!0,flat:!0}},[s("v-expansion-panel",[s("v-expansion-panel-header",[e._v("Advanced Settings")]),s("v-expansion-panel-content",[s("SectionCard",{attrs:{title:"Settings"},scopedSlots:e._u([{key:"actions",fn:function(){return[s("v-icon",{attrs:{small:""}},[e._v("mdi-hammer-wrench")])]},proxy:!0}])},[s("v-row",[s("v-col",[s("v-select",{attrs:{items:e.buildScopes,dense:""},on:{change:e.getBuilds},model:{value:e.buildScope,callback:function(t){e.buildScope=t},expression:"buildScope"}}),s("v-select",{attrs:{value:e.build,items:e.builds,hint:"Set the Komodo version for this lab","persistent-hint":"",dense:""},model:{value:e.build,callback:function(t){e.build=t},expression:"build"}})],1)],1)],1)],1)],1)],1)],1)],1),s("v-row",{attrs:{justify:"center"}},[s("v-btn",{staticClass:"mr-3",attrs:{color:"accent"},on:{click:e.goBack}},[e._v("\r\n          Cancel\r\n          "),s("v-icon",{attrs:{right:""}},[e._v("mdi-close-circle-outline")])],1),"processing"===e.status?s("v-btn",{attrs:{disabled:""}},[e._v("\r\n          Scheduling\r\n          "),s("v-progress-circular",{staticClass:"ml-2",attrs:{indeterminate:"",size:"14",width:"2"}})],1):"success"===e.status?s("v-btn",{attrs:{color:"success"}},[e._v("\r\n          Scheduled\r\n          "),s("v-icon",{attrs:{right:""}},[e._v("mdi-checkbox-marked-circle-outline")])],1):s("v-btn",{attrs:{color:"primary"},on:{click:e.editLabClick}},[e._v("\r\n          Schedule\r\n          "),s("v-icon",{attrs:{right:""}},[e._v("mdi-checkbox-marked-circle-outline")])],1)],1)],1)],1)},ss=[],as=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-data-table",{attrs:{headers:e.headers,items:e.assetList,"items-per-page":5,"item-key":"assetId","sort-by":"updatedOn","sort-desc":!0,"show-select":""},on:{input:e.onChange},scopedSlots:e._u([{key:"top",fn:function(){return[s("div",{staticClass:"d-flex justify-space-between"},[s("span",{staticClass:"subtitle-1"},[e._v("Assets")]),s("v-btn",{attrs:{color:"success",outlined:"",small:""},on:{click:e.uploadNew}},[e._v("Upload New Asset")])],1)]},proxy:!0},{key:"no-data",fn:function(){return[e._v("\r\n      No asset available now.\r\n    ")]},proxy:!0}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})},rs=[],is={name:"LabEditAsset",props:{assetList:{type:Array,default:()=>[]},selectedAssetList:{type:Array,default:()=>[]}},data(){return{headers:[{text:"Name",value:"assetName"},{text:"Description",value:"description"},{text:"Updated On",value:"updatedOn"}],selected:this.selectedAssetList}},watch:{selectedAssetList:function(e){this.selected=e}},methods:{onChange(){this.$emit("onSelectChange",this.selected)},uploadNew(){this.$emit("uploadNewAsset")}}},os=is,ns=Object(p["a"])(os,as,rs,!1,null,null,null),ls=ns.exports,cs={name:"EditCreate",components:{ContainerCard:Te,LabEditAsset:ls},data(){return{labId:this.$route.params.labId,courseId:0,course:"",title:"",titleRules:[e=>!!e||"Title is required",e=>e.length<=100||"Title must be less than 100 characters"],description:"",descriptionRules:[e=>e.length<=255||"Description must be less than 255 characters"],date:null,dateRules:[e=>!!e||"Date is required"],startTime:null,startTimeRules:[e=>!!e||"Start time is required"],endTime:null,endTimeRules:[e=>!!e||"End time is required"],assetList:[],selectedAssetList:[],showDatePicker:!1,showStartTimePicker:!1,showEndTimePicker:!1,status:"pending",isValid:!0,build:"stable",builds:[""],buildScope:"base",buildScopes:[]}},mounted:function(){let e=this.labId;Promise.all([ne({labId:e})]).then(e=>{const t=e[0].data;this.title=t.sessionName,this.description=t.description||"(No description added)";const s=nt.a.utc(t.startTime),a=nt.a.utc(t.endTime);this.date=nt.a.utc(t.startTime).format("YYYY-MM-DD"),this.startTime=s.format("HH:MM"),this.endTime=a.format("HH:MM"),this.assetList=t.assetList,this.selectedAssetList=t.assetList,t.build&&(this.buildScope=t.build.split("/")[0],this.build=t.build.split("/")[1])}),M.a.get(`${Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_VR_CLIENT_BASE_URL}`).then(e=>{e.data.forEach(e=>{this.buildScopes.push(e.name)}),this.getBuilds()}),this.courseId=this.$route.params.courseId,ie({courseId:this.courseId}).then(e=>{const t=e.data;return this.course=`${t.courseNo} - ${t.courseName}`,Xe()}).then(e=>{const t=e.data;this.assetList=t.map(e=>{return{...e,updatedOn:nt()(e.updateAt||e.createAt).format("L")}})}).then(()=>{if(localStorage.getItem("newLab"))try{const t=JSON.parse(localStorage.getItem("newLab"));this.title=t.title,this.description=t.description,this.date=t.date,this.startTime=t.startTime,this.endTime=t.endTime}catch(e){localStorage.removeItem("newLab")}})},methods:{getBuilds(){this.builds=[],M.a.get(`${Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_VR_CLIENT_BASE_URL}/${this.buildScope}/`).then(e=>{e.data.forEach(e=>{this.builds.push(e.name)})})},goBack(){this.$router.go(-1)},onAssetSelectChange(e){this.selectedAssetList=e},uploadNewAsset(){const e={title:this.title,description:this.description,date:this.date,startTime:this.startTime,endTime:this.endTime,build:this.buildScope+"/"+this.build};localStorage.setItem("newLab",JSON.stringify(e)),this.$router.push({name:"Asset Create"})},validate(){return this.$refs.form.validate()},editLabClick(){this.validate()&&(this.status="processing",ce({title:this.title,description:this.description,startTime:nt.a.utc(this.date+" "+this.startTime).local(),endTime:nt.a.utc(this.date+" "+this.endTime).local(),assetList:this.selectedAssetList.map(e=>e.assetId),build:this.buildScope+"/"+this.build,labId:this.labId}).then(()=>{this.status="success",localStorage.removeItem("newLab"),setTimeout(()=>{this.$router.push({name:"Lab Detail",params:{courseId:this.courseId,labId:this.labId}})},1e3)}))}}},us=cs,ds=Object(p["a"])(us,ts,ss,!1,null,null,null),ms=ds.exports,hs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.clientPath?e._e():s("v-row",{staticClass:"lab-basic-info mb-4 flex-column no-gutters"},[s("p",{staticClass:"display-1 text-capitalize"},[e._v(e._s(e.labName))]),e.captureId?s("p",[e._v(" CAPTURE ID: "+e._s(e.captureId))]):e._e(),s("p",{staticClass:"mb-0"},[s("span",{staticClass:"body-1 pointer",on:{click:e.goToCourse}},[e._v(e._s(e.courseNo+": "+e.courseName))])])]),e.clientPath?s("v-row",[s("v-col",[s("v-card",{staticClass:"vr-container",attrs:{height:"95vh"}},[s("vr-client",{attrs:{src:e.clientPath}})],1),s("br")],1),s("v-col",{attrs:{cols:2}},[s("SectionCard",{staticClass:"mb-3",attrs:{title:"Media"},scopedSlots:e._u([{key:"actions",fn:function(){return[s("v-row",{attrs:{align:"center",justify:"space-around"}},[e.inCall?e._e():s("v-btn",{attrs:{text:"",color:"success"},on:{click:e.startCall}},[s("v-icon",{attrs:{left:"","x-small":""}},[e._v("call")]),e._v("Start Call\n          ")],1),e.inCall?s("v-btn",{attrs:{text:"",color:"error"},on:{click:e.endCall}},[s("v-icon",{attrs:{left:"","x-small":""}},[e._v("call_end")]),e._v("End Call\n          ")],1):e._e()],1)]},proxy:!0}],null,!1,2604449245)},[s("MediaChat",{ref:"mediachat",staticClass:"media-chat",attrs:{userId:e.userId,sessionId:e.sessionId,firstName:e.firstName,lastName:e.lastName}})],1),s("SectionCard",{attrs:{title:"Text"}},[s("TextChat",{ref:"textchat",attrs:{"session-id":e.sessionId}})],1)],1)],1):e._e(),e.clientPath?e._e():s("v-row",[s("v-col",[s("SectionCard",{attrs:{title:"Details"},scopedSlots:e._u([{key:"actions",fn:function(){return[s("v-btn",{attrs:{text:"",small:"",color:"accent"},on:{click:e.startSession}},[s("v-icon",{attrs:{left:"","x-small":""}},[e._v("mdi-play")]),e._v("Start Now\n          ")],1),s("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,r=t.attrs;return[s("v-btn",e._g(e._b({attrs:{color:"grey",dark:"",icon:""}},"v-btn",r,!1),a),[s("v-icon",[e._v("mdi-dots-vertical")])],1)]}}],null,!1,2182086654)},[s("v-list",[s("v-list-item-group",[s("router-link",{attrs:{to:{name:"Lab Edit",params:{courseId:e.courseId,labId:e.labId}}}},["admin"==e.user.role||"instructor"==e.user.role?s("v-list-item",[s("v-icon",{attrs:{left:"","x-small":""}},[e._v("mdi-calendar")]),e._v("Edit\n                ")],1):e._e()],1),"admin"==e.user.role||"instructor"==e.user.role?s("v-list-item",{on:{click:e.deleteLabClick}},[s("v-icon",{attrs:{left:"","x-small":""}},[e._v("mdi-delete")]),e._v("Delete\n                ")],1):e._e()],1)],1)],1)]},proxy:!0}],null,!1,3672224875)},[s("v-container",{staticClass:"py-0 details-content"},[s("v-row",{attrs:{dense:""}},[s("v-col",{attrs:{cols:2}},[s("v-chip",{attrs:{outlined:""}},[e._v("Start Time")])],1),s("v-col",{attrs:{cols:4,"align-self":"center"}},[e._v("\n              "+e._s(e.schedule.startTime)+"\n            ")]),s("v-col",{attrs:{cols:2}},[s("v-chip",{attrs:{outlined:""}},[e._v("Duration")])],1),s("v-col",{attrs:{"align-self":"center"}},[e._v("\n              "+e._s(e.schedule.duration)+"\n            ")])],1),s("v-row",{attrs:{dense:""}},[s("v-col",{attrs:{cols:2}},[s("v-chip",{attrs:{outlined:""}},[e._v("End Time")])],1),s("v-col",{attrs:{cols:4,"align-self":"center"}},[e._v("\n              "+e._s(e.schedule.endTime)+"\n            ")]),s("v-col",{attrs:{cols:2}},[s("v-chip",{attrs:{outlined:""}},[e._v("Will Start")])],1),s("v-col",{attrs:{"align-self":"center"}},[e._v("\n              "+e._s(e.schedule.timeLeft)+"\n            ")])],1)],1)],1)],1),"admin"==e.user.role?s("v-col",{attrs:{cols:3}},[s("SectionCard",{attrs:{title:"Settings"},scopedSlots:e._u([{key:"actions",fn:function(){return[s("v-icon",{attrs:{small:""}},[e._v("mdi-hammer-wrench")])]},proxy:!0}],null,!1,1821881119)},[s("v-row",[s("v-col",{staticClass:"setting-label",attrs:{cols:4}},[s("v-chip",{attrs:{outlined:""}},[e._v("Version")])],1),s("v-col",[s("v-select",{attrs:{items:e.buildScopes,dense:""},on:{change:e.getBuilds},model:{value:e.buildScope,callback:function(t){e.buildScope=t},expression:"buildScope"}}),s("v-select",{attrs:{value:e.build,items:e.builds,hint:"Change the Komodo version for this session","persistent-hint":"",dense:""},model:{value:e.build,callback:function(t){e.build=t},expression:"build"}})],1)],1)],1)],1):e._e()],1),e.clientPath?e._e():s("v-row",[s("v-col",{attrs:{cols:5}},[s("SectionCard",{attrs:{title:"Description"},scopedSlots:e._u(["admin"==e.user.role||"instructor"==e.user.role?{key:"actions",fn:function(){return[s("router-link",{attrs:{to:{name:"Lab Edit",params:{courseId:e.courseId,labId:e.labId}}}},[s("v-btn",{attrs:{text:"",small:"",color:"grey"}},[s("v-icon",{attrs:{left:"","x-small":""}},[e._v("mdi-pencil")]),e._v("Edit\n            ")],1)],1)]},proxy:!0}:null],null,!0)},[e._v("\n        "+e._s(e.description)+"\n      ")])],1),s("v-col",{attrs:{cols:7}},[s("SectionCard",{attrs:{title:"Assets"},scopedSlots:e._u(["admin"==e.user.role||"instructor"==e.user.role?{key:"actions",fn:function(){return[s("router-link",{attrs:{to:{name:"Lab Edit",params:{courseId:e.courseId,labId:e.labId}}}},[s("v-btn",{attrs:{text:"",small:"",color:"grey"}},[s("v-icon",{attrs:{left:"","x-small":""}},[e._v("mdi-pencil")]),e._v("Edit\n            ")],1)],1)]},proxy:!0}:null],null,!0)},[s("v-data-table",{attrs:{headers:e.assetTableHeaders,items:e.assetList,"item-key":"assetId","no-data-text":"No asset added"},on:{"click:row":e.onAssetClick}})],1)],1)],1)],1)},ps=[],vs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("iframe",{staticStyle:{position:"relative",height:"100%",width:"100%",border:"none"},attrs:{allow:"xr-spatial-tracking",src:e.clientPath}})},fs=[],bs={name:"VrClient",props:{clientPath:String}},gs=bs,_s=Object(p["a"])(gs,vs,fs,!1,null,null,null),Cs=_s.exports,ws=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-row",[null!=e.localStream?a("v-col",[e.localStream.getVideoTracks().length?a("v-card",[a("video",{attrs:{muted:"",controls:"",autoplay:"",playsinline:"",width:"100%"},domProps:{muted:!0,srcObject:e.localStream}})]):e.localStream.getAudioTracks().length&&!e.sharingScreen?a("v-card",[a("v-img",{staticClass:"white--text align-end",attrs:{height:"150px",src:s("8f4c")}}),a("v-row",{attrs:{justify:"space-around"}},[a("v-card-title",[e._v(e._s(e.firstName+" "+e.lastName))])],1),a("audio",{attrs:{muted:"",width:"100%"},domProps:{srcObject:e.localStream}})],1):e._e(),!e.isconnectedToServer&&e.localStream?a("v-row",[a("v-col",[a("div",{staticClass:"text-center"},[a("v-progress-circular",{attrs:{color:"primary",indeterminate:""}})],1)])],1):e._e(),e.isconnectedToServer&&e.localStream?a("v-row",[a("v-col",[a("div",{staticClass:"text-center"},[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.muted,expression:"muted"}],staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:e.unMute}},[a("v-icon",{attrs:{dark:""}},[e._v("mic")])],1),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:!e.muted,expression:"!muted"}],staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"error"},on:{click:e.mute}},[a("v-icon",{attrs:{dark:""}},[e._v("mic_off")])],1),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.videoIsSupported&&!e.sharingVideo,expression:"videoIsSupported && !sharingVideo"}],staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:e.enableVideo}},[a("v-icon",{attrs:{dark:""}},[e._v("videocam")])],1),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.sharingVideo,expression:"sharingVideo"}],staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"error"},on:{click:e.disableVideo}},[a("v-icon",{attrs:{dark:""}},[e._v("videocam_off")])],1),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:!e.sharingScreen,expression:"!sharingScreen"}],staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:e.shareScreen}},[a("v-icon",{attrs:{dark:""}},[e._v("screen_share")])],1),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.sharingScreen,expression:"sharingScreen"}],staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"error"},on:{click:e.stopShareScreen}},[a("v-icon",{attrs:{dark:""}},[e._v("stop_screen_share")])],1)],1)])],1):e._e()],1):e._e(),e._l(e.connections,function(t){return a("v-col",{key:t.call.peer},[t.active?[t.stream.getVideoTracks().length?e._l(t.stream.getVideoTracks(),function(s){return a("v-card",{key:s.id},[s.enabled?a("video",{attrs:{controls:"",autoplay:"",playsinline:"",width:"100%"},domProps:{srcObject:t.stream}}):e._e()])}):t.stream.getAudioTracks().length?[a("v-card",[a("v-img",{staticClass:"white--text align-end",attrs:{height:"150px",src:s("8f4c")}}),a("v-row",{attrs:{justify:"space-around"}},[a("v-card-title",[e._v(e._s(t.client_name))])],1)],1),a("audio",{attrs:{controls:"controls",autoplay:""},domProps:{srcObject:t.stream}})]:e._e()]:e._e()],2)})],2)],1)},ys=[],xs=s("8055"),ks=s.n(xs),Ss=s("a0bc"),Is=s.n(Ss);const Ls=()=>{return H.get("/turn")};var Ns={name:"MediaChat",props:{sessionId:Number,userId:Number,firstName:String,lastName:String},data(){return{audioIsSupported:!1,callNotification:new Audio(s("7e5b")),chunks:[],connections:[],images:[],isconnectedToServer:!1,localStream:null,muted:!1,peer:null,recorder:null,secureSocket:!1,sharingScreen:!1,sharingVideo:!1,socket:null,speechToText:!1,stock:"",videoIsSupported:!1}},methods:{connect(){this.setupSocket(),this.getMediaDevices(),this.createPeer()},setupSocket(){this.socket=ks()(`${Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_RELAY_BASE_URL}/chat`),this.socket.on("joined",this.addNewPeer),this.socket.on("message",this.handleMessage)},getMediaDevices(){navigator.mediaDevices.enumerateDevices().then(e=>{e&&(console.log("available media devices:",e),this.handleMediaDevices(e))})},createPeer(){let e=new URL(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_RTC_URL),t=e.hostname,s=e.port,a="https:"===e.protocol,r={iceServers:[]};Ls().then(e=>{r.iceServers=e.data,this.peer=new Is.a({host:t,port:s,path:"/call",secure:a,config:r}),this.peer.on("open",this.connectedToServer),this.peer.on("call",this.answer)})},handleMediaDevices(e){if(e){for(let t=0;t<e.length;t++)"audioinput"==e[t].kind&&(this.audioIsSupported=!0),"videoinput"==e[t].kind&&(this.videoIsSupported=!0);this.getLocalStream(this.audioIsSupported,!1)}else console.log("no media devices detected, cannot get local media stream")},getLocalStream(e,t){console.log("getting local media stream with audio:",e,"video:",t),navigator.getUserMedia({audio:e,video:t},e=>{this.localStream=e,e.getVideoTracks().length&&(this.sharingVideo=!0),this.muted&&this.mute(),console.log("local stream added:",this.localStream),this.renegotiateCalls()},e=>{console.log("error getting local stream:",e)})},addStreamToRecording(e){},emitAudioBlob(e){this.socket.emit("mic",{session_id:this.sessionId,client_id:this.userId,client_name:this.firstName+" "+this.lastName,blob:e})},enableVideo(){this.sharingVideo=!0,this.sharingScreen&&this.stopShareScreen(),this.getLocalStream(!0,!0)},disableVideo(e=!0){this.sharingVideo=!1;let t=this.localStream.getVideoTracks();for(let s=0;s<t.length;s++)t[s].stop(),t[s].enabled=!1,this.localStream.removeTrack(t[s]);e&&this.getLocalStream(!0,!1)},shareScreen(){console.log("getting screen share stream"),this.sharingVideo&&this.disableVideo(),navigator.mediaDevices.getDisplayMedia().then(e=>{console.log("got screen share stream:",e);let t=e.getTracks();for(let s=0;s<t.length;s++)console.log("adding screen share track to local stream:",t[s]),this.localStream&&(t[s].onended=this.userStoppedScreenShare,this.localStream.addTrack(t[s]),console.log("localStream tracks:",this.localStream.getTracks()));this.sharingScreen=!0,this.renegotiateCalls()}).catch(e=>{console.error("Error:"+e)})},stopShareScreen(e=!0){if(console.log("stopping screen share"),this.sharingScreen=!1,this.localStream.getVideoTracks()){let e=this.localStream.getVideoTracks();for(let t=0;t<e.length;t++)e[t].stop(),e[t].enabled=!1,this.localStream.removeTrack(e[t])}e&&this.renegotiateCalls()},renegotiateCalls(){this.connections.forEach(e=>{e.call._open&&(console.log("renegotiating call:",e.call),this.call(e.client_id,e.call.peer,e.client_name))})},userStoppedScreenShare(){this.stopShareScreen()},mute(){console.log("muting mic"),this.localStream.getAudioTracks()&&this.localStream.getAudioTracks().forEach(e=>{e.enabled=!1}),this.muted=!0},unMute(){console.log("unmuting mic"),this.localStream.getAudioTracks()&&this.localStream.getAudioTracks().forEach(e=>{e.enabled=!0}),this.muted=!1},addNewPeer(e){console.log("joined event:",e);let t=e[1],s=e[2],a=e[3];s&&s!=this.peer.id&&this.call(t,s,a)},connectedToServer(e){this.isconnectedToServer=!0,console.log("Connected to Komodo RTC server, joining with peerId:",e),this.socket.emit("join",[this.sessionId,this.userId,e,this.firstName+" "+this.lastName])},call(e,t,s){if(this.peer._destroyed)console.log("cannot call, peer has been destroyed:",this.peer);else if(this.peer._disconnected&&(console.log("reconnecting peer..."),this.peer.reconnect()),e&&t){console.log("calling client:",e,"with peer id:",t);let a=this.peer.call(t,this.localStream,{metadata:{client_id:this.userId,client_name:this.firstName+" "+this.lastName}});a.on("stream",t=>{if(t.id!==this.localStream.id){this.soundNotification();let s=this.connections.find(t=>t.client_id===e);this.$set(s,"stream",t),this.$set(s,"active",!0),console.log("added remote stream to connection:",s),this.addStreamToRecording(t)}}),a.on("close",()=>{console.log("call closed event:",a.connectionId);let e=this.connections.find(e=>e.call.connectionId===a.connectionId);e&&(this.soundNotification(),this.$set(e,"active",!1))});let r={initiator:!0,client_id:e,client_name:s,call:a,stream:null,active:!1},i=this.connections.find(t=>t.client_id===e);void 0==i?this.connections.push(r):i.call=a}else console.log("missing client or peer id:",e,t)},answer(e){if(e){let t=e.options.metadata.client_id,s=e.options.metadata.client_name;console.log("call received from client:",t,e),this.localStream?e.answer(this.localStream):(console.log("no local stream, one way call initiating"),e.answer()),e.on("stream",e=>{if(e.id!==this.localStream.id){let s=this.connections.find(e=>e.client_id===t);this.$set(s,"stream",e),this.$set(s,"active",!0),console.log("added remote stream to connection:",s)}}),e.on("close",()=>{console.log("call closed event:",e.connectionId);let t=this.connections.find(t=>t.call.connectionId===e.connectionId);t&&this.$set(t,"active",!1)});let a={initiator:!1,client_id:t,client_name:s,call:e,stream:null,active:!1},r=this.connections.find(e=>e.client_id===t);void 0==r?this.connections.push(a):r.call=e}else console.log("call received without client id:",e),e.close()},hangup(){this.disableVideo(!1),this.stopShareScreen(!1),this.stopStream(),console.log("hanging up");for(let e=0;e<this.connections.length;e++)console.log("closing connection:",this.connections[e]),this.connections[e].call.close();this.localStream=null,this.connections=[],this.peer.disconnect(),this.isconnectedToServer=!1,this.socket.disconnect()},stopStream(){this.localStream&&(this.localStream.getAudioTracks().forEach(function(e){e.stop()}),this.localStream.getVideoTracks().forEach(function(e){e.stop()}))},toggleSpeechToText(){this.speechToText=!this.speechToText},handleMessage(e){console.log("received message:",e);let t=e.message;if("remove client"==t.type&&e.client_id){let t=e.client_id,s=this.connections.find(e=>e.client_id===t),a=this.connections.indexOf(s);this.connections.splice(a,1)}},getRandomPhoto(){M.a.get("https://api.unsplash.com/photos/random?client_id=jwSscNph9SmataZOQLdMqaPV6exzrdFBOiZ0DWzZwbw&content_filter=high&query=dragon").then(e=>{this.images.push(e.data.urls.regular)})},soundNotification(){this.callNotification.play()}}},Ts=Ns,js=Object(p["a"])(Ts,ws,ys,!1,null,null,null),As=js.exports,Es=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"d-flex flex-column chat-history-container"},e._l(e.records,function(t,a){return s("v-card",{key:a,staticClass:"mb-2",class:t.clientId===e.userId?"align-self-end":"",staticStyle:{width:"fit-content"},attrs:{color:t.clientId===e.userId?"primary":"grey lighten-3",dark:t.clientId===e.userId,flat:""}},["text"===t.type?s("v-card-text",{staticClass:"px-2 py-1"},[s("div",{staticClass:"caption font-weight-thin"},[e._v("\n          "+e._s(t.clientName+" ("+t.time+")")+"\n          "),s("v-icon",{attrs:{"x-small":""}},[e._v("\n            "+e._s("text"===t.type?"mdi-keyboard":"mdi-text-to-speech")+"\n          ")])],1),s("div",[e._v(e._s(t.text))])]):e._e()],1)}),1),s("v-divider",{staticClass:"mt-1 mb-3"}),s("v-text-field",{attrs:{"append-outer-icon":"mdi-send",dense:"","hide-details":"",outlined:""},on:{"click:append-outer":e.onSend,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSend(t)}},model:{value:e.text,callback:function(t){e.text=t},expression:"text"}})],1)},$s=[],Ds={name:"TextChat",props:{sessionId:{type:Number,required:!0}},data(){return{socket:null,userId:this.$store.getters.user.userId,text:"",records:[{sessionId:1,clientId:1,clientName:"Komodo",text:"Let's chat :)",time:this.formatTime(Date.now()),type:"text"}]}},mounted(){this.socket=ks()(`${Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_RELAY_BASE_URL}/chat`),this.socket.emit("join",[this.sessionId,this.userId]),this.socket.on("micText",this.handleMicText)},methods:{cleanup(){this.socket.disconnect()},formatTime(e){return nt()(e).format("h:mm a")},handleMicText(e){this.appendRecord(e).then(()=>{this.updateScroll()})},async appendRecord(e){const{session_id:t,client_id:s,client_name:a,text:r,ts:i,type:o}=e;if(t!==this.sessionId)return;const n=this.formatTime(i);this.records.push({sessionId:t,clientId:s,clientName:a,text:r,time:n,type:o})},updateScroll(){const e=document.getElementsByClassName("chat-history-container")[0];e.scrollTop=e.scrollHeight},onSend(){""!=this.text&&(this.socket.emit("micText",{session_id:this.sessionId,client_id:this.userId,client_name:`${this.$store.getters.user.firstName} ${this.$store.getters.user.lastName}`,text:this.text,type:"text",ts:Date.now()}),this.text="")}}},Rs=Ds,Ps=(s("29f0"),Object(p["a"])(Rs,Es,$s,!1,null,null,null)),Us=Ps.exports,Os={name:"LabDetail",components:{SectionCard:Be,VrClient:Cs,MediaChat:As,TextChat:Us},data(){return{user:this.$store.getters.user,userId:0,sessionId:0,teacher:0,firstName:"",lastName:"",labName:"",labId:"",captureId:"",courseId:"",courseNo:"",courseName:"",description:"",schedule:{startTime:"",endTime:"",duration:"",timeLeft:""},assetList:[],assetTableHeaders:[{text:"Name",value:"assetName"},{text:"Description",value:"description",sortable:!1}],clientPath:null,build:"stable",builds:[""],buildScope:"base",buildScopes:[],inCall:!1,openChat:!1,tabs:[]}},mounted:function(){const{courseId:e,labId:t,captureId:s}=this.$route.params;this.courseId=e,this.labId=t,this.captureId=s;const{userId:a,role:r,firstName:i,lastName:o}=this.$store.getters.user;this.teacher="student"===r?0:1,this.userId=a,this.sessionId=Number(this.$route.params.labId),this.firstName=i,this.lastName=o,Promise.all([ie({courseId:e}),ne({labId:t})]).then(e=>{const t=e[0].data,s=e[1].data;this.courseNo=t.courseNo,this.courseName=t.courseName,this.labName=s.sessionName,this.description=s.description||"(No description added)";const a=nt.a.utc(s.startTime).local(),r=nt.a.utc(s.endTime).local();this.schedule.startTime=a.format("L LT"),this.schedule.endTime=r.format("L LT"),this.schedule.duration=nt.a.duration(a.diff(r)).humanize(),this.schedule.timeLeft=a.fromNow(),this.assetList=s.assetList,s.build&&(this.buildScope=s.build.split("/")[0],this.build=s.build.split("/")[1],M.a.get(`${Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_VR_CLIENT_BASE_URL}`).then(e=>{e.data.forEach(e=>{this.buildScopes.push(e.name)}),this.getBuilds()}))})},beforeRouteLeave(e,t,s){if(this.inCall){if(!window.confirm("Are you sure you want to leave?"))return;this.$refs.mediachat.hangup()}if(this.captureId){if(!window.confirm("Are you sure you want to leave?"))return;this.$refs.textchat&&this.$refs.textchat.cleanup()}s()},methods:{getBuilds(){this.builds=[],M.a.get(`${Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_VR_CLIENT_BASE_URL}/${this.buildScope}/`).then(e=>{e.data.forEach(e=>{this.builds.push(e.name)})})},goToCourse(){this.$router.push({name:"Course Detail",params:{courseId:this.$route.params.courseId}})},startSession(){this.captureId?(this.sessionId=9999+this.sessionId,this.clientPath=`${Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_VR_CLIENT_BASE_URL}/${this.buildScope}/${this.build}/?client=${this.userId}&session=${this.sessionId}&teacher=${this.teacher}&playback=${this.captureId}`):this.clientPath=`${Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_VR_CLIENT_BASE_URL}/${this.buildScope}/${this.build}/?client=${this.userId}&session=${this.sessionId}&teacher=${this.teacher}`,console.log("Starting session with client:",this.clientPath)},onAssetClick({assetId:e}){this.$router.push({name:"Asset Detail",params:{assetId:e}})},startCall(){this.$refs.mediachat.connect(),this.inCall=!this.inCall},endCall(){this.$refs.mediachat.hangup(),this.inCall=!this.inCall},deleteLabClick(){let e=confirm("Are you sure you want to delete this lab?");e&&ue({labId:this.labId}).then(()=>{this.status="success",setTimeout(()=>{this.$router.push({name:"Course Detail",params:{courseId:this.courseId}})},1e3)})}}},Vs=Os,qs=(s("c5e7"),Object(p["a"])(Vs,hs,ps,!1,null,null,null)),Bs=qs.exports,Ms=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",[s("v-select",{staticClass:"ml-3",attrs:{label:"Select Course",items:e.courses,"item-text":"courseName","item-value":"courseId",dense:"",clearable:""},on:{change:e.getLabsByCourseId},model:{value:e.courseSelected,callback:function(t){e.courseSelected=t},expression:"courseSelected"}})],1),s("v-col",[e.courseSelected?s("v-select",{staticClass:"ml-3",attrs:{label:"Select Lab",items:e.labs,"item-text":"sessionName","item-value":"sessionId",dense:"",clearable:""},on:{change:e.getCapturesByLabId},model:{value:e.labSelected,callback:function(t){e.labSelected=t},expression:"labSelected"}}):s("v-select",{staticClass:"ml-3",attrs:{disabled:"",dense:""}})],1),s("v-col",[e.labSelected?s("v-select",{staticClass:"ml-3",attrs:{label:"Select Capture",items:e.captures,"item-text":"captureId","item-value":"captureId",dense:"",clearable:""},on:{change:e.loadData},model:{value:e.captureSelected,callback:function(t){e.captureSelected=t},expression:"captureSelected"}}):s("v-select",{staticClass:"ml-3",attrs:{disabled:"",dense:""}})],1),e.courseSelected?s("v-btn",{attrs:{color:"primary"},on:{click:e.exportData}},[e._v("\n      Export Data\n    ")]):s("v-btn",{attrs:{disabled:"",color:"primary"},on:{click:e.exportData}},[e._v("\n      Export Data\n    ")])],1),s("v-row",[e.sessionInteractionCountsMax?s("v-col",[e.sessionInteractionCountsMax>0?s("GlobalBar",{attrs:{title:"Interactions By Session",series:[{name:"Interactions",data:e.sessionInteractionCounts}],xcategories:e.sessionIds,xtitle:"Session",ytitle:"Count",ymin:0,ymax:e.sessionInteractionCountsMax}}):e._e()],1):e._e(),e.interactionTypeCountsMax?s("v-col",[e.interactionTypeCountsMax>0?s("GlobalBar",{attrs:{title:"Interactions By Type",series:[{name:"Interactions",data:e.interactionTypeCounts}],xcategories:e.interactionTypes,xtitle:"Type",ytitle:"Count",ymin:0,ymax:e.interactionTypeCountsMax}}):e._e()],1):e._e()],1),s("v-row",[s("v-col",[s("SectionCard",{attrs:{title:"Capture Data"},scopedSlots:e._u([{key:"actions",fn:function(){return[s("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]},proxy:!0}])},[s("v-container",{attrs:{fluid:""}},[s("v-data-table",{attrs:{headers:e.interactionTableHeaders,items:e.interactions,"sort-by":["captureStart"],"sort-desc":[!0],dense:"",search:e.search},scopedSlots:e._u([{key:"item.captureStart",fn:function(t){var s=t.item;return[e._v("\n                "+e._s(e.moment(s.captureStart).format("L LT"))+"\n              ")]}}])})],1)],1)],1)],1)],1)},zs=[],Fs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("apexchart",{attrs:{type:"bar",height:e.chartOptions.chart.height,options:e.chartOptions,series:e.series}})},Hs=[],Ws={name:"GlobalBar",props:{title:String,series:[{name:String,data:Array}],xcategories:Array,xtitle:String,ytitle:String,ymin:Number,ymax:Number},data(){return{chartOptions:{chart:{height:600,type:"line",dropShadow:{enabled:!1,color:"#000",top:18,left:7,blur:10,opacity:.2},toolbar:{show:!0}},colors:["#77B6EA","#545454"],dataLabels:{enabled:!0},stroke:{curve:"smooth"},title:{text:this.title,align:"left"},grid:{borderColor:"#e7e7e7",row:{colors:["#f3f3f3","transparent"],opacity:.5}},markers:{size:1},xaxis:{categories:this.xcategories,title:{text:this.xtitle}},yaxis:{title:{text:this.ytitle},min:this.ymin,max:this.ymax},legend:{position:"top",horizontalAlign:"right",floating:!0,offsetY:-25,offsetX:-5}}}}},Ks=Ws,Ys=Object(p["a"])(Ks,Fs,Hs,!1,null,null,null),Gs=Ys.exports;const Js=()=>{return H.get("/data/interactions")},Xs=e=>{const{courseId:t}=e;return H.get(`/data/export/raw/course/${t}`)},Zs=e=>{const{labId:t}=e;return H.get(`/data/export/raw/lab/${t}`)},Qs=e=>{const{captureId:t}=e;return H.get(`/data/export/raw/capture/${t}`)};var ea=s("f59f"),ta={name:"Metric",components:{GlobalBar:Gs,SectionCard:Be},data(){return{userId:null,courses:[],courseSelected:null,labs:[],labSelected:null,captures:[],captureSelected:null,dataLoaded:!1,search:"",interactions:[],interactionTableHeaders:[{text:"Capture",value:"captureId"},{text:"Captured On",value:"captureStart"},{text:"Session",value:"sessionId"},{text:"User",value:"clientId"},{text:"Source",value:"sourceId"},{text:"Target",value:"targetId"},{text:"Type",value:"type"},{text:"Count",value:"count"}],captureIds:[],sessionIds:[],clientIds:[],assetIds:[],interactionTypes:[],sessionInteractionCounts:[],sessionInteractionCountsMax:0,interactionTypeCounts:[],interactionTypeCountsMax:0,metrics:{captures:{displayName:"Captures",icon:"mdi-basket-fill",value:0},sessions:{displayName:"Sessions",icon:"mdi-calendar-multiple",value:0},clients:{displayName:"Users",icon:"mdi-account-group",value:0},assets:{displayName:"Assets",icon:"mdi-cube-outline",value:0},interactions:{displayName:"Interactions",icon:"mdi-gesture-double-tap",value:0}}}},created(){this.userId=this.$store.getters.user.userId,this.getInstructorCourses()},methods:{getInstructorCourses(){re(this.userId).then(e=>{console.log("Instructor courses:",e),this.courses=e.data})},getLabsByCourseId(){this.labSelected=null,oe({courseId:this.courseSelected}).then(e=>{console.log(e),200==e.status?this.labs=e.data:console.log(e)})},getCapturesByLabId(){this.captureSelected=null,be({labId:this.labSelected}).then(e=>{console.log(e),200==e.status?this.captures=e.data:console.log(e)})},loadData(e){this.dataLoaded=!0},exportData(){let e=this.courseSelected,t=this.labSelected,s=this.captureSelected;e&&t&&s?Qs({captureId:s}).then(e=>{200==e.status?(console.log(e.data),this.formatAndDownload(e)):console.log(e)}):e&&t?Zs({labId:t}).then(e=>{200==e.status?(console.log(e.data),this.formatAndDownload(e)):console.log(e)}):e&&Xs({courseId:e}).then(e=>{200==e.status?(console.log(e.data),this.formatAndDownload(e)):console.log(e)})},formatAndDownload(e){let t=e.data.int,s=e.data.pos,a=[];t[1].forEach(e=>{a.push(e.name)});const r={intFields:a};let i=[];s[1].forEach(e=>{i.push(e.name)});const o={posFields:i};try{const e="data:text/csv;charset=utf-8,";if(t[0].length){const s=new ea["Parser"](r),a=e+s.parse(t[0]);let i=encodeURI(a),o=document.createElement("a");o.setAttribute("href",i),o.setAttribute("download",`${this.captureSelected||this.labSelected||this.courseSelected}_interactions.csv`),document.body.appendChild(o),o.click()}if(s[0].length){const t=new ea["Parser"](o),a=e+t.parse(s[0]);let r=encodeURI(a),i=document.createElement("a");i.setAttribute("href",r),i.setAttribute("download",`${this.captureSelected||this.labSelected||this.courseSelected}_positions.csv`),document.body.appendChild(i),i.click()}}catch(n){console.error(n)}},getMetrics(){Js().then(e=>{e.data&&(this.interactions=e.data,this.interactions.forEach(e=>{this.captureIds.includes(e.captureId)||this.captureIds.push(e.captureId),this.sessionIds.includes(e.sessionId)||(this.sessionIds.push(e.sessionId),this.sessionInteractionCounts.push(0)),this.clientIds.includes(e.clientId)||this.clientIds.push(e.clientId),this.assetIds.includes(e.sourceId)||this.assetIds.push(e.sourceId),this.assetIds.includes(e.targetId)||this.assetIds.push(e.targetId),this.interactionTypes.includes(e.type)||(this.interactionTypes.push(e.type),this.interactionTypeCounts.push(0)),this.metrics.interactions.value+=e.count}),this.metrics.captures.value=this.captureIds.length,this.metrics.sessions.value=this.sessionIds.length,this.metrics.clients.value=this.clientIds.length,this.metrics.assets.value=this.assetIds.length,this.calcSessionCounts(),this.calcTypeCounts())})},calcSessionCounts(){this.interactions.forEach(e=>{for(let t=0;t<this.sessionIds.length;t++)e.sessionId==this.sessionIds[t]&&(this.sessionInteractionCounts[t]+=e.count)}),this.sessionInteractionCountsMax=Math.max(...this.sessionInteractionCounts)},calcTypeCounts(){this.interactions.forEach(e=>{for(let t=0;t<this.interactionTypes.length;t++)e.type==this.interactionTypes[t]&&(this.interactionTypeCounts[t]+=e.count)}),this.interactionTypeCountsMax=Math.max(...this.interactionTypeCounts)}}},sa=ta,aa=Object(p["a"])(sa,Ms,zs,!1,null,null,null),ra=aa.exports,ia=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-row",e._l(e.assets,function(t,a){return s("v-col",{key:a},[s("v-card",["GLB"===t.fileType||"GLTF"===t.fileType?s("model-viewer",{staticClass:"model-viewer",attrs:{src:t.path,alt:t.assetName,"auto-rotate":"","camera-controls":"",exposure:.5}}):e._e(),s("v-card-title",[e._v(e._s(t.assetName))]),s("v-card-text",{staticClass:"text--primary"},[s("div",[e._v(e._s(t.creatorName))]),s("div",[e._v(e._s(t.updateAt))])]),s("v-card-actions",[s("v-btn",{attrs:{color:"primary",text:""},on:{click:function(s){return e.onAssetClick(t)}}},[e._v("\n                Inspect\n            ")])],1)],1)],1)}),1),s("v-row",[s("v-col",[s("SectionCard",{attrs:{title:"Assets"},scopedSlots:e._u([{key:"actions",fn:function(){return[s("router-link",{attrs:{to:{name:"Asset Create"}}},[s("v-btn",{attrs:{text:"",small:"",color:"success"}},[s("v-icon",{attrs:{small:"",left:""}},[e._v("mdi-plus")]),e._v("\n              Upload\n            ")],1)],1)]},proxy:!0}])},[s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-text-field",{staticClass:"ma-3",attrs:{clearable:"",dense:"",outlined:"","append-icon":"mdi-magnify",label:"Search","single-line":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),s("v-data-table",{attrs:{search:e.search,headers:e.headers,items:e.assetList,"sort-by":["updateAt"],"sort-desc":[!0],"item-key":"assetId","no-data-text":"No asset added"},on:{"click:row":e.onAssetClick},scopedSlots:e._u([{key:"item.updateAt",fn:function(t){var a=t.item;return[s("span",[e._v(e._s(e.moment(a.updateAt).format("L LT")))])]}},{key:"item.isPublic",fn:function(t){var a=t.item;return[s("span",[e._v(" "+e._s(a.isPublic?"Public":"Private")+" ")])]}}])})],1)],1)],1)],1)],1)},oa=[],na={name:"Assets",components:{SectionCard:Be},data(){return{search:"",assetList:[],headers:[{text:"Name",value:"assetName"},{text:"Description",value:"description",sortable:!1},{text:"Updated",value:"updateAt"},{text:"Visibility",value:"isPublic"}],assets:[],unpublishedAsset:[],publishedAsset:[],showPublicAssets:!1}},mounted(){Xe().then(e=>{this.assetList=e.data;let t=this.assetList.length-1;for(let s=t;s>t-3;s--)this.getAsset(this.assetList[s].assetId)})},methods:{getAsset(e){Ze({assetId:e}).then(e=>{let t=e.data,s={...t,createAt:nt()(t.createAt).format("L LT"),updateAt:nt()(t.updateAt).format("L LT"),fileType:t.path.split(".")[t.path.split(".").length-1].toUpperCase()};this.assets.push(s)}).catch(e=>{console.log(e)})},onAssetClick({assetId:e}){this.$router.push({name:"Asset Detail",params:{assetId:e}})}}},la=na,ca=(s("0893"),Object(p["a"])(la,ia,oa,!1,null,"77a97d50",null)),ua=ca.exports,da=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-row",{staticStyle:{height:"100vh"},attrs:{align:"center",justify:"center"}},[s("v-card",{staticClass:"radius-3",attrs:{width:"70%",height:"70%"}},[s("v-container",{staticClass:"pa-0 full-height radius-3"},[s("v-row",{staticClass:"full-height",attrs:{"no-gutters":""}},[s("v-col",{staticClass:"pa-6 card-content-wrapper"},[s("v-card-title",{staticClass:"headline"},[e._v("\r\n              Reset Password\r\n            ")]),s("v-card-text",[s("v-text-field",{attrs:{label:"New Password",type:"password","append-icon":"mdi-eye-off",required:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),s("v-text-field",{attrs:{label:"Confirm New Password",type:"password","append-icon":"mdi-eye-off",required:""},model:{value:e.passwordConfirm,callback:function(t){e.passwordConfirm=t},expression:"passwordConfirm"}}),s("v-alert",{directives:[{name:"show",rawName:"v-show",value:e.showDialog&&e.message,expression:"showDialog && message"}],attrs:{type:e.messageType,dense:"",text:""},domProps:{textContent:e._s(e.message)}})],1),s("v-card-actions",{staticClass:"justify-center"},[s("v-btn",{staticClass:"mx-6 full-width",attrs:{color:"primary",large:""},on:{click:e.reset}},[e._v("Reset")])],1)],1)],1)],1)],1)],1)},ma=[],ha={data:()=>({user:null,password:"",passwordConfirm:"",showDialog:!1,message:"",messageType:"info"}),mounted(){this.user=this.$store.getters.user},methods:{showInfo(e,t){this.message=e,this.messageType=t,this.showDialog=!0},reset(){this.password.length&&this.passwordConfirm.length&&this.password===this.passwordConfirm?K({user_id:this.user.userId,password:q()(this.password).toString()}).then(e=>{200===e.status&&this.showInfo("Password successfully reset.","success")}).then(()=>{setTimeout(()=>{this.$router.push({path:"/dashboard"})},1e3)}).catch(e=>{this.showInfo(e.response.data.message||"Password Reset Failed!","error")}):this.showInfo("Please set and confirm a valid password","error")}}},pa=ha,va=(s("49e5"),Object(p["a"])(pa,da,ma,!1,null,null,null)),fa=va.exports,ba=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-img",{attrs:{src:s("9e25"),alt:"Title Project Komodo, with a gray, smiling, cartoon Komodo dragon wearing a virtual reality headset and pointing with a teaching stick or laser beam. Beneath it is the text, 'ALA â€¢ References and User Services Association â€¢ Emerging Technologies Sectionâ€‹ -- 2021 Best Emerging Technology Application Awardâ€‹'"}}),a("br"),a("hr"),a("v-row",[a("v-col",{staticClass:"text-body-1 font-italic",attrs:{cols:12}},[e._v("\n      Last updated June 18th, 2021.\n    ")])],1),a("v-row",[a("v-col",{attrs:{cols:12}},[a("h2",{staticClass:"font-weight-bold"},[e._v("\n        Catalyzing Browser-Based VR Instruction.\n      ")]),a("h3",[e._v("Project Komodo is an upcoming SDK and web service that will make it easy for instructors to deploy social virtual reality education apps.")])])],1),a("v-row",[a("v-col",{attrs:{cols:6}},[a("div",{staticClass:"deep-purple lighten-5 pa-2 rounded d-flex justify-center align-baseline"},[a("span",{staticClass:"ma-1 text-body-1"},[e._v("Follow our progress: ")]),a("v-btn",{staticClass:"ma-1",attrs:{small:"",color:"primary",href:"https://publish.illinois.edu/graingeridealab/"}},[e._v("IDEA Lab Blog â†’\n        ")])],1)]),a("v-col",{attrs:{cols:6}},[a("div",{staticClass:"deep-purple lighten-5 pa-2 rounded d-flex justify-center align-baseline"},[a("span",{staticClass:"ma-1 text-body-1"},[e._v("Already have access?")]),a("v-btn",{staticClass:"ma-1",attrs:{small:"",color:"primary",href:"https://komodo-dev.library.illinois.edu/login"}},[e._v("Log in â†’")])],1)])],1),a("v-row",[a("v-col",{attrs:{cols:12}},[e._v("\n      Read more about our original vision in the blog post, "),a("a",{staticClass:"font-weight-bold",attrs:{href:"https://publish.illinois.edu/graingeridealab/2021/06/18/initial-vision-for-project-komodo-future-educational-vr-ecosystem-catalyzer/"}},[e._v("Initial Vision for Project Komodo: â€œFuture Educational VR Ecosystem Catalyzerâ€")]),e._v(".\n    ")])],1),a("v-row",[a("v-col",{attrs:{cols:12}},[a("h2",[a("span",{staticClass:"font-weight-bold"},[e._v("Turn-Key Social VR Classrooms for Instructors. ")])])])],1),a("v-row",[a("v-col",{attrs:{cols:4}},[a("span",{staticClass:"font-weight-bold"},[e._v("Instantly deploy a classroom session.â€‹")]),e._v(" Komodo provides social features for class sessions: networked tools, VR avatars, and, coming soon, cross-platform audio and video chat.\n    ")]),a("v-col",{attrs:{cols:4}},[a("span",{staticClass:"font-weight-bold"},[e._v("Manage sessions and upload models.")]),e._v(" Komodo helps you schedule sessions and get content in easily. We can store 3D and 2D content for you.â€‹\n    ")]),a("v-col",{attrs:{cols:4}},[a("span",{staticClass:"font-weight-bold"},[e._v("Analyze student, asset, and session statistics.â€‹")]),e._v(" Komodo automatically networks and tracks interactions with content. Our data pipeline shows flexible metrics views in the web portal (coming soon).â€‹\n    ")])],1),a("v-row",[a("v-col",{attrs:{cols:6}}),a("v-col",{attrs:{cols:6}},[a("div",{staticClass:"deep-purple lighten-5 pa-2 rounded d-flex justify-center align-baseline"},[a("span",{staticClass:"ma-1 text-body-1"},[e._v("Sign up to express interest!")]),a("v-btn",{staticClass:"ma-1",attrs:{small:"",color:"primary",href:"https://forms.gle/sNo8btXpbD4E39zr6"}},[e._v("Sign up â†’")])],1)])],1),a("v-row",[a("v-col",{attrs:{cols:12}},[a("h2",[a("span",{staticClass:"font-weight-bold"},[e._v("Designed for Developers to Build Powerful Extensions. ")])]),a("br"),a("span",[e._v("By building on top of popular engines and frameworks, we hope research programmers, student developers, and independent professionals can easily add domain-specific content. Komodo SDK support is still in the early stages, but our GitHub is available to everyone.")])])],1),a("v-row",[a("v-col",{attrs:{cols:4}},[a("span",{staticClass:"font-weight-bold"},[e._v("Start with the Unity SDK.â€‹")]),e._v(" Download and open the Project Komodo Package in Unity. Youâ€™ll get the out-of-the-box features described.\n    ")]),a("v-col",{attrs:{cols:4}},[a("span",{staticClass:"font-weight-bold"},[e._v("Implement the domain module.")]),e._v(" Customize the environment, add 3D models, program custom features, and connect our networking components. \n    ")]),a("v-col",{attrs:{cols:4}},[a("span",{staticClass:"font-weight-bold"},[e._v("Build and upload.â€‹")]),e._v(" Build your module and serve it with our Komodo build server.  In the near future, in the web portal, you'll be able to customize data analytics for both your scene content and user-uploaded assets.\n    ")])],1),a("v-row",[a("v-col",{attrs:{cols:6}}),a("v-col",{attrs:{cols:6}},[a("div",{staticClass:"deep-purple lighten-5 pa-2 rounded d-flex justify-center align-baseline"},[a("span",{staticClass:"ma-1 text-body-1"},[e._v("Check out the repos: ")]),a("v-btn",{staticClass:"ma-1",attrs:{small:"",color:"primary",href:"https://github.com/gelic-idealab/komodo/blob/e6500eb1b53dfbd1d2f21d76ec9e91b52454ed0b/ABOUT.md"}},[e._v("GitHub â†’\n        ")])],1)])],1),a("h2",[e._v("Pilot Domain Modules")]),a("v-row",[a("v-col",{attrs:{cols:12}},[e._v('\n      Since January 2020, we have been partnering with faculty to deploy Illinois-specific extensions of Komodo, which we call "domain modules.â€\n    ')])],1),a("v-row",[a("v-col",{attrs:{cols:4}},[a("subtitle",{staticClass:"font-weight-bold"},[e._v("Fashion Illustration Module")]),a("h3",[e._v("Tilt Brush Critique")]),a("v-img",{attrs:{src:s("6ea3"),height:"175",alt:"Five digital astronaut heads and hands are looking at a bee-inspired garment on a mannequin. The group is inside a moderately large hall, with three garments and mood boards in the background in front of a window wall."}}),a("br"),a("p",[e._v("\n      Professor Chiara Vincenzi has successfully piloted cutting-edge curriculum in Fashion Illustration by "),a("a",{attrs:{href:"https://vr.illinois.edu/2019/11/20/fashion-illustration-students-explore-vr/"}},[e._v("teaching students to ideate with Tilt Brush")]),e._v(". She has dreamt up industry-and-academia-changing possibilities for fashion and XR. We have run social VR fashion critiques with these Tilt Brush garments for two semesters.\n      ")]),a("p",[a("a",{attrs:{href:"https://github.com/gelic-idealab/design-critique/"}},[e._v("Follow the GitHub repo â†’")])]),a("p",[a("a",{attrs:{href:"https://publish.illinois.edu/graingeridealab/"}},[e._v("Check our blog for updates â†’")])])],1),a("v-col",{attrs:{cols:4}},[a("subtitle",{staticClass:"font-weight-bold"},[e._v("Materials Science Module")]),a("h3",[e._v("Learning Miller Indices")]),a("v-img",{attrs:{src:s("c775"),height:"175",alt:"A 3D virtual environment. In the foreground, a set of blue spheres are arranged horizontally in a square. Green hand-drawn circles surround each sphere where it intersects a metallic, circular, horizontal plane. Next to it is a similar group of objects, but with five orange spheres visible instead of four blue ones. In the background, there is a digital astronaut head, on a grassy terrain at sunset."}}),a("br"),a("p",[e._v("\n      Dr. Andre Schleife has already brought students into the smallest unit of a crystal structure to better "),a("a",{attrs:{href:"https://www.ideals.illinois.edu/handle/2142/102373"}},[e._v("visualize its geometric properties in VR")]),e._v(".  Now, he is looking to test whether students will learn controlling geometric with their own hands or walking around large-scale atomic simulations. \n      We believe our web-based deployment will make the main bottleneck â€“ the setup time for Windows Mixed Reality â€“ go away. \n      ")]),a("p",[a("a",{attrs:{href:"https://github.com/gelic-idealab/molecular-dynamics/"}},[e._v("Follow the GitHub repo â†’")])]),a("p",[a("a",{attrs:{href:"https://publish.illinois.edu/graingeridealab/"}},[e._v("Check our blog for updates â†’")])])],1),a("v-col",{attrs:{cols:4}},[a("subtitle",{staticClass:"font-weight-bold"},[e._v("IMPRESS Module")]),a("h3",[e._v("Tilt Brush Astronomy")]),a("v-img",{attrs:{src:s("81b1"),height:"175",alt:"A composited image. Black background, with white light. From top left to bottom right: less than a quarter moon, a partial eclipse with a small part of the corona visible, full eclipse with a corona appearing three times as large as the diameter of the moon, then the reverse of the first two."}}),a("br"),a("p",[e._v("\n      PhD student James Planey has developed a positional tracking system for Tilt Brush to help assess whether virtual reality drawing improves astronomy learning outcomes. With Komodo, he is working to set a new standard for pedagogy insights via data analysis and student observation in WebXR. \n      ")]),a("p",[a("a",{attrs:{href:"https://github.com/gelic-idealab/impress/"}},[e._v("Follow the GitHub repo â†’")])]),a("p",[a("a",{attrs:{href:"https://publish.illinois.edu/graingeridealab/"}},[e._v("Check our blog for updates â†’")])]),a("p",{staticClass:"font-italic"},[e._v("Photo by Ian Parker on Unsplash")])],1)],1),a("h2",{staticClass:"font-weight-bold"},[e._v("Acknowledgements")]),a("h3",[e._v("Special thanks to these University of Illinois organizations:")]),a("v-row",[a("v-col",{attrs:{cols:12}},[a("v-row",[a("v-col",{attrs:{cols:4}},[a("v-img",{attrs:{src:s("8d6c"),height:90,contain:""}}),a("br"),a("a",{staticClass:"font-weight-bold",attrs:{href:"https://techservices.illinois.edu/"}},[e._v("Technology Services")]),e._v(" at the University of Illinois for its generous financial support\n        ")],1),a("v-col",{attrs:{cols:4}},[a("v-img",{attrs:{src:s("831e"),height:90,contain:""}}),a("br"),e._v("The "),a("a",{staticClass:"font-weight-bold",attrs:{href:"https://vr.illinois.edu/"}},[e._v("Virtual Reality at Illinois Committee")]),e._v(" (VR @ IL) for coordinating the project and continuously providing support\n        ")],1),a("v-col",{attrs:{cols:4}},[a("v-img",{attrs:{src:s("a937"),alt:"Grainger Idea Lab logo, with technological and data-centric icons and imagery.",height:90,contain:""}}),a("br"),a("a",{staticClass:"font-weight-bold",attrs:{href:"https://library.illinois.edu/enx"}},[e._v("Grainger Engineering Library")]),e._v(" for providing development support, outreach support, and generous financial support\n        ")],1)],1)],1)],1),a("h3",[e._v("Thank you, sponsors!")]),a("v-row",[a("v-col",{attrs:{cols:12}},[e._v("\n      We were granted the 2021 RUSA Best Emerging Technology Application award, sponsored by Chatstaff and LibraryH3lp.\n      "),a("v-row",[a("v-col",{attrs:{cols:4}},[a("v-img",{attrs:{src:s("d31f"),height:90,contain:""}}),a("br")],1),a("v-col",{attrs:{cols:4}},[a("v-img",{attrs:{src:s("24cc"),height:90,contain:""}})],1),a("v-col",{attrs:{cols:4}},[a("v-img",{attrs:{src:s("0c1a"),height:90,contain:""}})],1)],1)],1)],1),a("h3",[e._v("Thank you to these individuals for supporting or contributing to the project:")]),a("v-row",[a("v-col",{attrs:{cols:3}},[e._v("\n      Yifan Bao\n      "),a("br"),e._v("Megan Baird\n      "),a("br"),e._v("Elisandro Cabada\n      "),a("br"),e._v("Xianzhuo (Patrick) Cao\n      "),a("br"),e._v("Brandon Dang\n    ")]),a("v-col",{attrs:{cols:3}},[e._v("\n      Mihir Joshi\n      "),a("br"),e._v("Welisa Lewis\n      "),a("br"),e._v("Zhe Liu\n      "),a("br"),e._v("Nishi Mehta\n      "),a("br"),e._v("William H. Mischo\n    ")]),a("v-col",{attrs:{cols:3}},[e._v("\n      Jamie Nelson\n      "),a("br"),e._v("Dennis Piehl\n      "),a("br"),e._v("James Planey\n      "),a("br"),e._v("Dr. Andre Schleife\n      "),a("br"),e._v("David Tamayo\n    ")]),a("v-col",{attrs:{cols:3}},[e._v("\n      Professor Chiara Vincenzi\n      "),a("br"),e._v("Robert Wallace\n      "),a("br"),e._v("Jim Wentworth\n      "),a("br"),e._v("Xiaohan Yin\n      "),a("br"),e._v("Chengyi Zhang\n    ")])],1),a("v-row",[a("v-col",{attrs:{cols:4}}),a("v-col",{attrs:{cols:4}},[a("span",{staticClass:"font-weight-bold"},[e._v("Thanks for reading!")]),a("v-img",{attrs:{src:s("a5fd"),alt:"An astronaut avatar head and hands does a friendly wave."}})],1),a("v-col",{attrs:{cols:4}})],1)],1)},ga=[],_a={name:"About",components:{},data(){return{test:0}},methods:{}},Ca=_a,wa=Object(p["a"])(Ca,ba,ga,!1,null,null,null),ya=wa.exports,xa=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-row",[s("v-col",[s("p",{staticClass:"display-1"},[e._v("\n        ADMIN VIEW\n      ")])])],1),s("v-row",[s("v-col",[s("v-tabs",{attrs:{"show-arrows":""}},[s("v-tab",[e._v("Users")]),s("v-tab-item",[s("SectionCard",[s("v-data-table",{attrs:{headers:e.userHeaders,items:e.userList,"sort-by":["userName"],"item-key":"userId","no-data-text":"No user added","show-select":""},scopedSlots:e._u([{key:"top",fn:function(){return[s("div",{staticClass:"clear-fix"},[s("router-link",{attrs:{to:{name:"Multiple Users Edit",params:{selectedUser:e.selectedUser}}}},[s("v-btn",{staticClass:"float-right",attrs:{disabled:e.userDisabled,color:"success",depressed:"",small:""}},[s("v-icon",{attrs:{left:"",small:""}},[e._v("mdi-plus")]),e._v("\n                  Edit Multiple Users\n                ")],1)],1),s("router-link",{attrs:{to:{name:"User Create"}}},[s("v-btn",{staticClass:"float-right",attrs:{color:"success",depressed:"",small:""}},[s("v-icon",{attrs:{left:"",small:""}},[e._v("mdi-plus")]),e._v("\n                  New User\n                ")],1)],1)],1)]},proxy:!0},{key:"item.action",fn:function(t){var a=t.item;return[s("router-link",{attrs:{to:{name:"User Edit",params:{item:a}}}},[s("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v("edit")])],1),s("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.deleteUser(a)}}},[e._v("delete")])]}}]),model:{value:e.selectedUser,callback:function(t){e.selectedUser=t},expression:"selectedUser"}})],1)],1),s("v-tab",[e._v("Courses")]),s("v-tab-item",[s("SectionCard",[s("v-data-table",{attrs:{headers:e.courseHeaders,items:e.courseList,"sort-by":["courseName"],"item-key":"courseId","no-data-text":"No course added","show-select":""},scopedSlots:e._u([{key:"top",fn:function(){return[s("div",{staticClass:"clear-fix"},[s("router-link",{attrs:{to:{name:"Multiple Courses Edit",params:{selectedCourse:e.selectedCourse}}}},[s("v-btn",{staticClass:"float-right",attrs:{disabled:e.courseDisabled,color:"success",depressed:"",small:""}},[s("v-icon",{attrs:{left:"",small:""}},[e._v("mdi-plus")]),e._v("\n                  Edit Multiple Courses\n                ")],1)],1),s("router-link",{attrs:{to:{name:"Course Create"}}},[s("v-btn",{staticClass:"float-right",attrs:{color:"success",depressed:"",small:""}},[s("v-icon",{attrs:{left:"",small:""}},[e._v("mdi-plus")]),e._v("\n                  New Course\n                ")],1)],1)],1)]},proxy:!0},{key:"item.action",fn:function(t){var a=t.item;return[s("router-link",{attrs:{to:{name:"Course Edit",params:{item:a}}}},[s("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v("edit")])],1),s("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.deleteCourse(a)}}},[e._v("delete")])]}}]),model:{value:e.selectedCourse,callback:function(t){e.selectedCourse=t},expression:"selectedCourse"}})],1)],1)],1)],1)],1)],1)},ka=[],Sa={name:"Admin",components:{SectionCard:Be},data(){return{userList:[],courseList:[],userHeaders:[{text:"Name",value:"userName"},{text:"Email",value:"email"},{text:"Role",value:"roleName"},{text:"Course",value:"courses"},{text:"Action",value:"action",sortable:!1}],courseHeaders:[{text:"Name",value:"courseName"},{text:"CRN",value:"courseNo"},{text:"Description",value:"description"},{text:"Instructor",value:"instructorName"},{text:"Semester",value:"semester"},{text:"Students",value:"users"},{text:"Action",value:"action",sortable:!1}],selectedUser:[],selectedCourse:[],courses:[],students:[]}},computed:{userDisabled(){return!this.selectedUser.length},courseDisabled(){return!this.selectedCourse.length}},mounted(){J().then(e=>{this.userList=e.data;let t=this.userList.length;for(let s=0;s<t;s++)ae(this.userList[s].userId).then(e=>{this.userList[s].courses=e.data.map(e=>e.courseNo).join(", ")})}),de().then(e=>{this.courseList=e.data;for(let t=0;t<this.courseList.length;t++)te(this.courseList[t].courseId).then(e=>{this.courseList[t].users=e.data.map(e=>e.userName).join(", ")})})},methods:{deleteUser(e){const t=this.userList.indexOf(e);confirm("Are you sure you want to delete this user?")&&se({userId:e.userId}).then(()=>{this.userList.splice(t,1)})},deleteCourse(e){const t=this.courseList.indexOf(e);confirm("Are you sure you want to delete this course?")&&fe({courseId:e.courseId}).then(()=>{this.courseList.splice(t,1)})}}},Ia=Sa,La=(s("2150"),Object(p["a"])(Ia,xa,ka,!1,null,null,null)),Na=La.exports,Ta=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContainerCard",[s("v-form",{ref:"form",staticClass:"full-width",attrs:{"lazy-validation":""},model:{value:e.isValid,callback:function(t){e.isValid=t},expression:"isValid"}},[s("p",{staticClass:"headline"},[e._v("Create New User")]),s("v-text-field",{attrs:{label:"First Name",autofocus:"",required:"",rules:e.requireRules},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}}),s("v-text-field",{attrs:{label:"Last Name",autofocus:"",required:"",rules:e.requireRules},model:{value:e.lastName,callback:function(t){e.lastName=t},expression:"lastName"}}),s("v-text-field",{attrs:{label:"Email",rules:e.requireRules,autofocus:"",required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),s("v-text-field",{attrs:{label:"Default Password",rules:e.requireRules,autofocus:"",required:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),s("v-radio-group",{attrs:{row:"",madndatory:""},model:{value:e.role,callback:function(t){e.role=t},expression:"role"}},[s("v-radio",{attrs:{label:"Admin",color:"primary",value:"1"}}),s("v-radio",{attrs:{label:"Instructor",color:"primary",value:"2"}}),s("v-radio",{attrs:{label:"Student",color:"primary",value:"3"}})],1),s("RegisteredCourses",{attrs:{courseList:e.courseList},on:{onSelectChange:e.onCourseSelectChange}}),s("v-row",{attrs:{justify:"center"}},[s("v-btn",{staticClass:"mr-3",attrs:{color:"accent"},on:{click:e.goBack}},[e._v("\r\n          Cancel\r\n          "),s("v-icon",{attrs:{right:""}},[e._v("mdi-close-circle-outline")])],1),"processing"===e.status?s("v-btn",{attrs:{disabled:""}},[e._v("\r\n          Processing\r\n          "),s("v-progress-circular",{staticClass:"ml-2",attrs:{indeterminate:"",size:"14",width:"2"}})],1):"success"===e.status?s("v-btn",{attrs:{color:"success"}},[e._v("\r\n          Create\r\n          "),s("v-icon",{attrs:{right:""}},[e._v("mdi-checkbox-marked-circle-outline")])],1):s("v-btn",{attrs:{color:"primary"},on:{click:e.createUser}},[e._v("\r\n          Create\r\n          "),s("v-icon",{attrs:{right:""}},[e._v("mdi-checkbox-marked-circle-outline")])],1)],1)],1)],1)},ja=[],Aa=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-data-table",{attrs:{headers:e.headers,items:e.courseList,"items-per-page":5,"item-key":"courseId","show-select":""},on:{input:e.onChange},scopedSlots:e._u([{key:"top",fn:function(){return[s("div",{staticClass:"d-flex justify-space-between"},[s("span",{staticClass:"subtitle-1"},[e._v("Registered Courses")])])]},proxy:!0},{key:"no-data",fn:function(){return[e._v("\r\n      No asset available now.\r\n    ")]},proxy:!0}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})},Ea=[],$a={name:"RegisteredCourses",props:{courseList:{type:Array,default:()=>[]},selectedCourseList:{type:Array,default:()=>[]}},data(){return{headers:[{text:"CourseNo",value:"courseNo"},{text:"Name",value:"courseName"},{text:"Description",value:"description"}],selected:this.selectedCourseList}},watch:{selectedCourseList:function(e){this.selected=e}},methods:{onChange(){this.$emit("onSelectChange",this.selected)}}},Da=$a,Ra=Object(p["a"])(Da,Aa,Ea,!1,null,null,null),Pa=Ra.exports,Ua={name:"LabCreate",components:{ContainerCard:Te,RegisteredCourses:Pa},data(){return{lastName:"",firstName:"",email:"",password:"",role:"3",courseList:[],selectedCourseList:[],status:"pending",isValid:!0,requireRules:[e=>!!e||"The field is required"]}},mounted:function(){de().then(e=>{const t=e.data;this.courseList=t.map(e=>{return{...e}})})},methods:{goBack(){this.$router.go(-1)},onCourseSelectChange(e){this.selectedCourseList=e},validate(){return this.$refs.form.validate()},createUser(){this.validate()&&X({lastName:this.lastName,firstName:this.firstName,email:this.email,password:q()(this.password).toString(),roleId:parseInt(this.role),courseList:this.selectedCourseList.map(e=>e.courseId)}).then(()=>{this.status="success",setTimeout(()=>{this.$router.push({name:"Admin"})},1e3)})}}},Oa=Ua,Va=Object(p["a"])(Oa,Ta,ja,!1,null,null,null),qa=Va.exports,Ba=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContainerCard",[s("v-form",{ref:"form",staticClass:"full-width",attrs:{"lazy-validation":""},model:{value:e.isValid,callback:function(t){e.isValid=t},expression:"isValid"}},[s("p",{staticClass:"headline"},[e._v("Edit User")]),s("v-text-field",{attrs:{label:"First Name",autofocus:"",required:"",rules:e.requireRules},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}}),s("v-text-field",{attrs:{label:"Last Name",autofocus:"",required:"",rules:e.requireRules},model:{value:e.lastName,callback:function(t){e.lastName=t},expression:"lastName"}}),s("v-text-field",{attrs:{label:"Email",rules:e.requireRules,autofocus:"",required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),s("v-row",{staticClass:"password"},[s("v-text-field",{attrs:{label:"Default Password",rules:e.requireRules,autofocus:"",required:"",disabled:e.passwordDisabled},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),s("p",{staticClass:"edit-password",on:{click:e.updatePassword}},[e._v("Edit")])],1),s("v-radio-group",{attrs:{row:"",madndatory:""},model:{value:e.role,callback:function(t){e.role=t},expression:"role"}},[s("v-radio",{attrs:{label:"Admin",color:"primary",value:"1"}}),s("v-radio",{attrs:{label:"Instructor",color:"primary",value:"2"}}),s("v-radio",{attrs:{label:"Student",color:"primary",value:"3"}})],1),s("RegisteredCourses",{attrs:{courseList:e.courseList,selectedCourseList:e.selectedCourseList},on:{onSelectChange:e.onCourseSelectChange}}),s("v-row",{attrs:{justify:"center"}},[s("v-btn",{staticClass:"mr-3",attrs:{color:"accent"},on:{click:e.goBack}},[e._v("\r\n          Cancel\r\n          "),s("v-icon",{attrs:{right:""}},[e._v("mdi-close-circle-outline")])],1),"processing"===e.status?s("v-btn",{attrs:{disabled:""}},[e._v("\r\n          Processing\r\n          "),s("v-progress-circular",{staticClass:"ml-2",attrs:{indeterminate:"",size:"14",width:"2"}})],1):"success"===e.status?s("v-btn",{attrs:{color:"success"}},[e._v("\r\n          Update\r\n          "),s("v-icon",{attrs:{right:""}},[e._v("mdi-checkbox-marked-circle-outline")])],1):s("v-btn",{attrs:{color:"primary"},on:{click:e.editUser}},[e._v("\r\n          Update\r\n          "),s("v-icon",{attrs:{right:""}},[e._v("mdi-checkbox-marked-circle-outline")])],1)],1)],1)],1)},Ma=[],za={name:"LabEdit",components:{ContainerCard:Te,RegisteredCourses:Pa},data(){return{userId:this.$route.params.item.userId,lastName:"",firstName:"",password:"********",editPassword:!1,email:"",role:"3",courseList:[],selectedCourseList:[],status:"pending",isValid:!0,requireRules:[e=>!!e||"The field is required"]}},mounted:function(){de().then(e=>{this.courseList=e.data});let e=this.userId;Promise.all([Q({userId:e})]).then(e=>{const t=e[0].data;this.firstName=t.firstName,this.lastName=t.lastName,this.email=t.email,this.role=t.roleId.toString(),this.selectedCourseList=t.courseList})},computed:{passwordDisabled(){return!this.editPassword}},methods:{goBack(){this.$router.go(-1)},onCourseSelectChange(e){this.selectedCourseList=e},validate(){return this.$refs.form.validate()},updatePassword(){this.editPassword=!0,this.password=""},editUser(){this.validate()&&Z({lastName:this.lastName,firstName:this.firstName,email:this.email,password:this.updatePassword?q()(this.password).toString():this.password,roleId:parseInt(this.role),courseList:this.selectedCourseList.map(e=>e.courseId),userId:this.userId}).then(()=>{this.status="success",setTimeout(()=>{this.$router.push({name:"Admin"})},1e3)})}}},Fa=za,Ha=(s("805b"),Object(p["a"])(Fa,Ba,Ma,!1,null,null,null)),Wa=Ha.exports,Ka=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContainerCard",[s("v-form",{ref:"form",staticClass:"full-width",attrs:{"lazy-validation":""},model:{value:e.isValid,callback:function(t){e.isValid=t},expression:"isValid"}},[s("p",{staticClass:"headline"},[e._v("Edit Multiple Users")]),s("v-text-field",{attrs:{label:"Name",disabled:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),s("v-row",{staticClass:"password"},[s("v-text-field",{attrs:{label:"Default Password",rules:e.requireRules,autofocus:"",required:"",disabled:e.passwordDisabled},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),s("p",{staticClass:"edit-password",on:{click:e.updatePassword}},[e._v("Edit")])],1),s("v-radio-group",{attrs:{row:"",madndatory:""},model:{value:e.role,callback:function(t){e.role=t},expression:"role"}},[s("v-radio",{attrs:{label:"Admin",color:"primary",value:"1"}}),s("v-radio",{attrs:{label:"Instructor",color:"primary",value:"2"}}),s("v-radio",{attrs:{label:"Student",color:"primary",value:"3"}})],1),s("RegisteredCourses",{attrs:{courseList:e.courseList,selectedCourseList:e.selectedCourseList},on:{onSelectChange:e.onCourseSelectChange}}),s("v-row",{attrs:{justify:"center"}},[s("v-btn",{staticClass:"mr-3",attrs:{color:"accent"},on:{click:e.goBack}},[e._v("\r\n          Cancel\r\n          "),s("v-icon",{attrs:{right:""}},[e._v("mdi-close-circle-outline")])],1),"processing"===e.status?s("v-btn",{attrs:{disabled:""}},[e._v("\r\n          Processing\r\n          "),s("v-progress-circular",{staticClass:"ml-2",attrs:{indeterminate:"",size:"14",width:"2"}})],1):"success"===e.status?s("v-btn",{attrs:{color:"success"}},[e._v("\r\n          Update\r\n          "),s("v-icon",{attrs:{right:""}},[e._v("mdi-checkbox-marked-circle-outline")])],1):s("v-btn",{attrs:{color:"primary"},on:{click:e.editMultipleUsers}},[e._v("\r\n          Update\r\n          "),s("v-icon",{attrs:{right:""}},[e._v("mdi-checkbox-marked-circle-outline")])],1)],1)],1)],1)},Ya=[],Ga={name:"MultipleUsersEdit",components:{ContainerCard:Te,RegisteredCourses:Pa},data(){return{users:this.$route.params.selectedUser,name:"",password:"********",editPassword:!1,role:"3",courseList:[],selectedCourseList:[],status:"pending",isValid:!0,requireRules:[e=>!!e||"The field is required"]}},mounted:function(){this.name=this.users.map(e=>e.userName).join(", "),de().then(e=>{this.courseList=e.data})},computed:{passwordDisabled(){return!this.editPassword}},methods:{goBack(){this.$router.go(-1)},onCourseSelectChange(e){this.selectedCourseList=e},updatePassword(){this.editPassword=!0,this.password=""},validate(){return this.$refs.form.validate()},editMultipleUsers(){this.validate()&&ee({users:this.users.map(e=>e.userId),password:this.updatePassword?q()(this.password).toString():this.password,roleId:parseInt(this.role),courseList:this.selectedCourseList.map(e=>e.courseId)}).then(()=>{this.status="success",setTimeout(()=>{this.$router.push({name:"Admin"})},1e3)})}}},Ja=Ga,Xa=(s("2053"),Object(p["a"])(Ja,Ka,Ya,!1,null,null,null)),Za=Xa.exports,Qa=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContainerCard",[s("v-form",{ref:"form",staticClass:"full-width",attrs:{"lazy-validation":""},model:{value:e.isValid,callback:function(t){e.isValid=t},expression:"isValid"}},[s("p",{staticClass:"headline"},[e._v("Create New Course")]),s("v-text-field",{attrs:{label:"Course Name",autofocus:"",required:"",rules:e.requireRules},model:{value:e.courseName,callback:function(t){e.courseName=t},expression:"courseName"}}),s("v-text-field",{attrs:{label:"CRN",autofocus:"",required:"",rules:e.requireRules},model:{value:e.CRN,callback:function(t){e.CRN=t},expression:"CRN"}}),s("v-text-field",{attrs:{label:"Description",autofocus:""},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}}),s("v-text-field",{attrs:{label:"Credit Hours",autofocus:""},model:{value:e.credit,callback:function(t){e.credit=t},expression:"credit"}}),s("v-text-field",{attrs:{label:"Department",autofocus:""},model:{value:e.department,callback:function(t){e.department=t},expression:"department"}}),s("v-select",{attrs:{items:e.instructorList,label:"Instructor",rules:e.requireRules},model:{value:e.instructor,callback:function(t){e.instructor=t},expression:"instructor"}}),s("v-select",{attrs:{items:e.semesterList,label:"Semester",rules:e.requireRules},model:{value:e.semester,callback:function(t){e.semester=t},expression:"semester"}}),s("RegisteredUsers",{attrs:{userList:e.userList},on:{onSelectChange:e.onUserSelectChange}}),s("v-row",{attrs:{justify:"center"}},[s("v-btn",{staticClass:"mr-3",attrs:{color:"accent"},on:{click:e.goBack}},[e._v("\r\n          Cancel\r\n          "),s("v-icon",{attrs:{right:""}},[e._v("mdi-close-circle-outline")])],1),"processing"===e.status?s("v-btn",{attrs:{disabled:""}},[e._v("\r\n          Processing\r\n          "),s("v-progress-circular",{staticClass:"ml-2",attrs:{indeterminate:"",size:"14",width:"2"}})],1):"success"===e.status?s("v-btn",{attrs:{color:"success"}},[e._v("\r\n          Create\r\n          "),s("v-icon",{attrs:{right:""}},[e._v("mdi-checkbox-marked-circle-outline")])],1):s("v-btn",{attrs:{color:"primary"},on:{click:e.createCourse}},[e._v("\r\n          Create\r\n          "),s("v-icon",{attrs:{right:""}},[e._v("mdi-checkbox-marked-circle-outline")])],1)],1)],1)],1)},er=[],tr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-data-table",{attrs:{headers:e.headers,items:e.userList,"items-per-page":5,"item-key":"userId","show-select":""},on:{input:e.onChange},scopedSlots:e._u([{key:"top",fn:function(){return[s("div",{staticClass:"d-flex justify-space-between"},[s("span",{staticClass:"subtitle-1"},[e._v("Registered Users")])])]},proxy:!0},{key:"no-data",fn:function(){return[e._v("\r\n      No asset available now.\r\n    ")]},proxy:!0}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})},sr=[],ar={name:"RegisteredUsers",props:{userList:{type:Array,default:()=>[]},selectedUserList:{type:Array,default:()=>[]}},data(){return{headers:[{text:"Name",value:"userName"},{text:"Email",value:"email"},{text:"Role",value:"roleName"}],selected:this.selectedUserList}},watch:{selectedUserList:function(e){this.selected=e}},methods:{onChange(){this.$emit("onSelectChange",this.selected)}}},rr=ar,ir=Object(p["a"])(rr,tr,sr,!1,null,null,null),or=ir.exports,nr={name:"CourseCreate",components:{ContainerCard:Te,RegisteredUsers:or},data(){return{courseName:"",CRN:"",credit:null,department:null,description:null,instructor:"",semester:"",status:"pending",isValid:!0,requireRules:[e=>!!e||"The field is required"],userList:[],selectedUserList:[],instructorList:[],semesterList:[]}},mounted:function(){ve().then(e=>{this.semesterList=e.data.map(e=>e.semesterId.toString()+" "+e.semester)}),J().then(e=>{const t=e.data;this.userList=t,this.instructorList=t.filter(e=>"instructor"===e.roleName||"admin"===e.roleName).map(e=>e.userId+" "+e.userName)})},methods:{goBack(){this.$router.go(-1)},onUserSelectChange(e){this.selectedUserList=e},validate(){return this.$refs.form.validate()},createCourse(){this.validate()&&me({courseName:this.courseName,courseNo:this.CRN,credit:this.credit,department:this.department,description:this.description,instructorId:parseInt(this.instructor.split(" ")[0]),semesterId:parseInt(this.semester.split(" ")[0]),userList:this.selectedUserList.map(e=>e.userId)}).then(()=>{this.status="success",setTimeout(()=>{this.$router.push({name:"Admin"})},1e3)})}}},lr=nr,cr=Object(p["a"])(lr,Qa,er,!1,null,null,null),ur=cr.exports,dr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContainerCard",[s("v-form",{ref:"form",staticClass:"full-width",attrs:{"lazy-validation":""},model:{value:e.isValid,callback:function(t){e.isValid=t},expression:"isValid"}},[s("p",{staticClass:"headline"},[e._v("Edit Course")]),s("v-text-field",{attrs:{label:"Course Name",autofocus:"",required:"",rules:e.requireRules},model:{value:e.courseName,callback:function(t){e.courseName=t},expression:"courseName"}}),s("v-text-field",{attrs:{label:"CRN",autofocus:"",required:"",rules:e.requireRules},model:{value:e.CRN,callback:function(t){e.CRN=t},expression:"CRN"}}),s("v-text-field",{attrs:{label:"Description",autofocus:""},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}}),s("v-text-field",{attrs:{label:"Credit Hours",autofocus:""},model:{value:e.credit,callback:function(t){e.credit=t},expression:"credit"}}),s("v-text-field",{attrs:{label:"Department",autofocus:""},model:{value:e.department,callback:function(t){e.department=t},expression:"department"}}),s("v-select",{attrs:{items:e.instructorList,label:"Instructor",rules:e.requireRules},model:{value:e.instructor,callback:function(t){e.instructor=t},expression:"instructor"}}),s("v-select",{attrs:{items:e.semesterList,label:"Semester",rules:e.requireRules},model:{value:e.semester,callback:function(t){e.semester=t},expression:"semester"}}),s("RegisteredUsers",{attrs:{userList:e.userList,selectedUserList:e.selectedUserList},on:{onSelectChange:e.onUserSelectChange}}),s("v-row",{attrs:{justify:"center"}},[s("v-btn",{staticClass:"mr-3",attrs:{color:"accent"},on:{click:e.goBack}},[e._v("\r\n          Cancel\r\n          "),s("v-icon",{attrs:{right:""}},[e._v("mdi-close-circle-outline")])],1),"processing"===e.status?s("v-btn",{attrs:{disabled:""}},[e._v("\r\n          Processing\r\n          "),s("v-progress-circular",{staticClass:"ml-2",attrs:{indeterminate:"",size:"14",width:"2"}})],1):"success"===e.status?s("v-btn",{attrs:{color:"success"}},[e._v("\r\n          Update\r\n          "),s("v-icon",{attrs:{right:""}},[e._v("mdi-checkbox-marked-circle-outline")])],1):s("v-btn",{attrs:{color:"primary"},on:{click:e.editCourse}},[e._v("\r\n          Update\r\n          "),s("v-icon",{attrs:{right:""}},[e._v("mdi-checkbox-marked-circle-outline")])],1)],1)],1)],1)},mr=[],hr={name:"CourseEdit",components:{ContainerCard:Te,RegisteredUsers:or},data(){return{courseId:this.$route.params.item.courseId,courseName:"",CRN:"",credit:null,department:null,description:null,instructor:"",semester:"",status:"pending",isValid:!0,requireRules:[e=>!!e||"The field is required"],userList:[],selectedUserList:[],instructorList:[],semesterList:[]}},mounted:function(){ve().then(e=>{this.semesterList=e.data.map(e=>e.semesterId.toString()+" "+e.semester)}),J().then(e=>{const t=e.data;this.userList=t,this.instructorList=t.filter(e=>"instructor"===e.roleName).map(e=>e.userId+" "+e.userName)});let e=this.courseId;Promise.all([ie({courseId:e})]).then(e=>{const t=e[0].data;this.courseName=t.courseName,this.CRN=t.courseNo,this.credit=t.creditHours,this.department=t.department,this.description=t.description,this.instructor=t.instructorId.toString()+" "+t.instructorName.split(", ")[1]+" "+t.instructorName.split(", ")[0],this.semester=t.semesterId.toString()+" "+t.semester,this.selectedUserList=t.userList})},methods:{goBack(){this.$router.go(-1)},onUserSelectChange(e){this.selectedUserList=e},validate(){return this.$refs.form.validate()},editCourse(){this.validate()&&he({courseName:this.courseName,courseNo:this.CRN,credit:this.credit,department:this.department,description:this.description,instructorId:parseInt(this.instructor.split(" ")[0]),semesterId:parseInt(this.semester.split(" ")[0]),userList:this.selectedUserList.map(e=>e.userId),courseId:this.courseId}).then(()=>{this.status="success",setTimeout(()=>{this.$router.push({name:"Admin"})},1e3)})}}},pr=hr,vr=Object(p["a"])(pr,dr,mr,!1,null,null,null),fr=vr.exports,br=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContainerCard",[s("v-form",{ref:"form",staticClass:"full-width",attrs:{"lazy-validation":""},model:{value:e.isValid,callback:function(t){e.isValid=t},expression:"isValid"}},[s("p",{staticClass:"headline"},[e._v("Edit Course")]),s("v-text-field",{attrs:{label:"CRN",autofocus:"",required:"",rules:e.requireRules},model:{value:e.CRN,callback:function(t){e.CRN=t},expression:"CRN"}}),s("v-text-field",{attrs:{label:"Description",autofocus:""},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}}),s("v-text-field",{attrs:{label:"Credit Hours",autofocus:""},model:{value:e.credit,callback:function(t){e.credit=t},expression:"credit"}}),s("v-text-field",{attrs:{label:"Department",autofocus:""},model:{value:e.department,callback:function(t){e.department=t},expression:"department"}}),s("v-select",{attrs:{items:e.instructorList,label:"Instructor",rules:e.requireRules},model:{value:e.instructor,callback:function(t){e.instructor=t},expression:"instructor"}}),s("v-select",{attrs:{items:e.semesterList,label:"Semester",rules:e.requireRules},model:{value:e.semester,callback:function(t){e.semester=t},expression:"semester"}}),s("RegisteredUsers",{attrs:{userList:e.userList},on:{onSelectChange:e.onUserSelectChange}}),s("v-row",{attrs:{justify:"center"}},[s("v-btn",{staticClass:"mr-3",attrs:{color:"accent"},on:{click:e.goBack}},[e._v("\r\n          Cancel\r\n          "),s("v-icon",{attrs:{right:""}},[e._v("mdi-close-circle-outline")])],1),"processing"===e.status?s("v-btn",{attrs:{disabled:""}},[e._v("\r\n          Processing\r\n          "),s("v-progress-circular",{staticClass:"ml-2",attrs:{indeterminate:"",size:"14",width:"2"}})],1):"success"===e.status?s("v-btn",{attrs:{color:"success"}},[e._v("\r\n          Update\r\n          "),s("v-icon",{attrs:{right:""}},[e._v("mdi-checkbox-marked-circle-outline")])],1):s("v-btn",{attrs:{color:"primary"},on:{click:e.editMultipleCourse}},[e._v("\r\n          Update\r\n          "),s("v-icon",{attrs:{right:""}},[e._v("mdi-checkbox-marked-circle-outline")])],1)],1)],1)],1)},gr=[],_r={name:"MultipleCoursesEdit",components:{ContainerCard:Te,RegisteredUsers:or},data(){return{courses:this.$route.params.selectedCourse,CRN:"",credit:null,department:null,description:null,instructor:"",semester:"",status:"pending",isValid:!0,requireRules:[e=>!!e||"The field is required"],userList:[],selectedUserList:[],instructorList:[]}},mounted:function(){this.CRN=this.courses.map(e=>e.courseNo).join(", "),ve().then(e=>{this.semesterList=e.data.map(e=>e.semesterId.toString()+" "+e.semester)}),J().then(e=>{const t=e.data;this.userList=t,this.instructorList=t.filter(e=>"instructor"===e.roleName).map(e=>e.userId+" "+e.userName)})},methods:{goBack(){this.$router.go(-1)},onUserSelectChange(e){this.selectedUserList=e},validate(){return this.$refs.form.validate()},editMultipleCourse(){this.validate()&&pe({courses:this.courses.map(e=>e.courseId),credit:this.credit,department:this.department,description:this.description,instructorId:parseInt(this.instructor.split(" ")[0]),semesterId:parseInt(this.semester.split(" ")[0]),userList:this.selectedUserList.map(e=>e.userId)}).then(()=>{this.status="success",setTimeout(()=>{this.$router.push({name:"Admin"})},1e3)})}}},Cr=_r,wr=Object(p["a"])(Cr,br,gr,!1,null,null,null),yr=wr.exports;const xr=[{path:"/login",name:"Login",component:we},{path:"/logout",name:"Logout",component:$e,meta:{requireLogin:!0}},{path:"/about",name:"About",component:ya,meta:{requireLogin:!1}},{path:"/",component:P,redirect:"/dashboard",children:[{path:"dashboard",name:"Landing",component:at,meta:{requireLogin:!0}},{path:"courses/:courseId",name:"Course Detail",component:Tt,meta:{requireLogin:!0}},{path:"courses/:courseId/labs/create",name:"Lab Create",component:es,meta:{requireLogin:!0}},{path:"courses/:courseId/labs/:labId/edit",name:"Lab Edit",component:ms,meta:{requireLogin:!0}},{path:"courses/:courseId/labs/:labId",name:"Lab Detail",component:Bs,meta:{requireLogin:!0}},{path:"/assets",name:"Assets",component:ua,meta:{requireLogin:!0}},{path:"/admin",name:"Admin",component:Na,meta:{requireLogin:!0}},{path:"/admin/create/user",name:"User Create",component:qa,meta:{requireLogin:!0}},{path:"/admin/edit/user",name:"User Edit",component:Wa,meta:{requireLogin:!0}},{path:"/admin/edit/multiple/user",name:"Multiple Users Edit",component:Za,meta:{requireLogin:!0}},{path:"/admin/create/course",name:"Course Create",component:ur,meta:{requireLogin:!0}},{path:"/admin/edit/course",name:"Course Edit",component:fr,meta:{requireLogin:!0}},{path:"/admin/edit/multiple/course",name:"Multiple Courses Edit",component:yr,meta:{requireLogin:!0}},{path:"assets/create",name:"Asset Create",component:Pt,meta:{requireLogin:!0}},{path:"assets/:assetId",name:"Asset Detail",component:Mt,meta:{requireLogin:!0}},{path:"metrics",name:"Metric",component:ra,meta:{requireLogin:!0}},{path:"account",name:"Account",component:fa,meta:{requireLogin:!0}}]}];var kr=xr,Sr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.closeDropDown,expression:"closeDropDown"}],staticClass:"dropdown",class:{open:e.isOpen},on:{click:e.toggleDropDown}},[e._t("title",[s("a",{staticClass:"dropdown-toggle",attrs:{"data-toggle":"dropdown",href:"javascript:void(0)"}},[s("i",{class:e.icon}),s("p",{staticClass:"notification"},[e._v("\n        "+e._s(e.title)+"\n        "),s("b",{staticClass:"caret"})])])]),e._t("default")],2)},Ir=[],Lr={name:"drop-down",props:{title:String,icon:String},data(){return{isOpen:!1}},methods:{toggleDropDown(){this.isOpen=!this.isOpen},closeDropDown(){this.isOpen=!1}}},Nr=Lr,Tr=Object(p["a"])(Nr,Sr,Ir,!1,null,null,null),jr=Tr.exports;const Ar={install(e){e.component("drop-down",jr)}};var Er=Ar,$r=s("c7db");const Dr={install(e){e.directive("click-outside",$r["directive"])}};var Rr=Dr,Pr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"sidebar",style:e.sidebarStyle,attrs:{"data-color":e.activeColor}},[s("div",{staticClass:"logo"},[s("a",{staticClass:"simple-text logo-mini",attrs:{href:"#"}},[s("div",{staticClass:"logo-img"},[s("img",{attrs:{src:e.imgLogo,alt:""}})])]),s("a",{staticClass:"simple-text logo-normal",staticStyle:{"line-height":"35px","font-size":"22px"},attrs:{href:"",target:"_blank"}},[e._v("\n      "+e._s(e.title)+"\n    ")])]),s("div",{staticClass:"sidebar-wrapper"},[e._t("content"),s("md-list",{staticClass:"nav"},[e._t("default",e._l(e.sidebarLinks,function(e,t){return s("sidebar-link",{key:e.name+t,attrs:{to:e.path,link:e}})}))],2)],2)])},Ur=[],Or=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{staticClass:"md-list-item"},[s("router-link",e._b({staticClass:"md-list-item-router md-list-item-container md-button-clean",on:{click:e.hideSidebar}},"router-link",e.$attrs,!1),[s("div",{staticClass:"md-list-item-content md-ripple"},[e._t("default",[s("md-icon",[e._v(e._s(e.link.icon))]),s("p",[e._v(e._s(e.link.name))])])],2)])],1)},Vr=[],qr={inject:{autoClose:{default:!0}},props:{link:{type:[String,Object],default:()=>{return{name:"",path:"",icon:""}}},tag:{type:String,default:"router-link"}},methods:{hideSidebar(){this.autoClose&&this.$sidebar&&!0===this.$sidebar.showSidebar&&this.$sidebar.displaySidebar(!1)}}},Br=qr,Mr=Object(p["a"])(Br,Or,Vr,!1,null,null,null),zr=Mr.exports,Fr={components:{SidebarLink:zr},props:{title:{type:String,default:"Komodo"},backgroundImage:{type:String,default:s("9524")},imgLogo:{type:String,default:s("0c5a")},activeColor:{type:String,default:"primary"},sidebarLinks:{type:Array,default:()=>[]},autoClose:{type:Boolean,default:!0}},provide(){return{autoClose:this.autoClose}},computed:{sidebarStyle(){return{background:"linear-gradient(0.6turn, var(--v-primary) 5%, var(--v-accent) 75%, var(--v-tertiary) 115%)"}}}},Hr=Fr,Wr=(s("0efd"),Object(p["a"])(Hr,Pr,Ur,!1,null,null,null)),Kr=Wr.exports;const Yr={showSidebar:!1,displaySidebar(e){this.showSidebar=e}},Gr={install(e){e.mixin({data(){return{sidebarStore:Yr}}}),Object.defineProperty(e.prototype,"$sidebar",{get(){return this.$root.sidebarStore}}),e.component("side-bar",Kr),e.component("sidebar-link",zr)}};var Jr=Gr,Xr=s("43f9"),Zr=s.n(Xr),Qr=(s("51de"),s("9e17"),s("54ba"),{install(e){e.use(Jr),e.use(Zr.a)}}),ei=s("ce5b"),ti=s.n(ei);s("bf40"),s("d1e7");a["default"].use(ti.a);const si={icons:{iconfont:"md"},theme:{themes:{light:{primary:"#7f5de9",accent:"#AB68CA",secondary:"#377ED4",tertiary:"#DE67A3",success:"#4DC08C",warning:"#FFA91B",error:"#FF3D8B"}}}};var ai=new ti.a(si),ri=s("1321"),ii=s.n(ri);const oi=new r["a"]({mode:"history",routes:kr,linkExactActiveClass:"nav-item active"});oi.beforeEach((e,t,s)=>{e.matched.some(e=>e.meta.requireLogin)?G().then(e=>{if(200===e.status){const{userId:t,email:s,firstName:a,lastName:r,roleName:i}=e.data.user;return c.commit("setUser",{userId:t,email:s,firstName:a,lastName:r,role:i}),ae(t)}}).then(e=>{c.commit("setCourses",e.data),s()}).catch(()=>{c.commit("setUser",null),c.commit("setCourses",null),s({name:"Login"})}):s()}),a["default"].prototype.moment=nt.a,a["default"].use(r["a"]),a["default"].use(Qr),a["default"].use(Er),a["default"].use(Rr),a["default"].component("file-upload",g.a),a["default"].component("apexchart",ii.a),a["default"].config.devtools=!0,new a["default"]({el:"#app",render:e=>e(f),router:oi,store:c,vuetify:ai})},5786:function(e,t,s){"use strict";var a=s("9fd3"),r=s.n(a);r.a},"57b1":function(e,t,s){"use strict";var a=s("2195"),r=s.n(a);r.a},"5e11":function(e,t){function s(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}s.keys=function(){return[]},s.resolve=s,e.exports=s,s.id="5e11"},"6c35":function(e,t,s){"use strict";var a=s("c080"),r=s.n(a);r.a},"6ea3":function(e,t,s){e.exports=s.p+"img/project-komodo-fashion-critique-bee.729cd9c3.jpg"},"6fa8":function(e,t,s){},"72b3":function(e,t,s){},"7e5b":function(e,t,s){e.exports=s.p+"media/sound_notification.a25ee10e.mp4"},"805b":function(e,t,s){"use strict";var a=s("72b3"),r=s.n(a);r.a},"81b1":function(e,t,s){e.exports=s.p+"img/ian-parker-total-solar-eclipse-sequence-rotated.3838da93.jpg"},"825d":function(e,t,s){"use strict";var a=s("6fa8"),r=s.n(a);r.a},"831e":function(e,t,s){e.exports=s.p+"img/vr-at-illinois-logo.17d53591.png"},"8af0":function(e,t,s){},"8d6c":function(e,t,s){e.exports=s.p+"img/technology-services-logo.c2cee123.png"},"8f4c":function(e,t,s){e.exports=s.p+"img/mic.7d45d94b.jpg"},9524:function(e,t,s){e.exports=s.p+"img/sidebar-2.32103624.jpg"},"9e17":function(e,t,s){},"9e25":function(e,t,s){e.exports=s.p+"img/komodo-logo-wordmark-rusa-award.fcef42e1.jpg"},"9fd3":function(e,t,s){},a5fd:function(e,t,s){e.exports=s.p+"img/astronaut-wave.fc7a4357.gif"},a7f4:function(e,t,s){},a937:function(e,t,s){e.exports=s.p+"img/idea-lab-logo-cropped.cae9bb5c.png"},aa4b:function(e,t,s){},ab25:function(e,t,s){"use strict";var a=s("c926"),r=s.n(a);r.a},ac22:function(e,t,s){},b611:function(e,t,s){},c080:function(e,t,s){},c5e7:function(e,t,s){"use strict";var a=s("8af0"),r=s.n(a);r.a},c775:function(e,t,s){e.exports=s.p+"img/komodo-matse-unit-cell-plane-drawings-2021-01-13.5d667ed9.jpg"},c926:function(e,t,s){},d05d:function(e,t,s){"use strict";var a=s("fb59"),r=s.n(a);r.a},d31f:function(e,t,s){e.exports=s.p+"img/rusa-logo-large.a20848ed.png"},d643:function(e,t,s){},d9f4:function(e,t,s){},def1:function(e,t,s){},e3cd:function(e,t,s){},fb59:function(e,t,s){},fec2:function(e,t,s){"use strict";var a=s("aa4b"),r=s.n(a);r.a}});
//# sourceMappingURL=app.72955e88.js.map